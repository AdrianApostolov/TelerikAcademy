{"version":3,"sources":["kendo.scheduler.recurrence.js"],"names":["f","define","$","undefined","intervalExcess","diff","interval","excess","dayInYear","date","month","getMonth","days","leapYear","DAYS_IN_LEAPYEAR","DAYS_IN_YEAR","getDate","weekInYear","weekStart","year","Date","getFullYear","adjustDST","setDayOfWeek","setDate","getDay","Math","floor","getTime","weekInMonth","firstWeekDay","firstDayOfMonth","firstWeekLength","ceil","normalizeDayIndex","weekDay","normalizeOffset","rule","lastDate","weeksInMonth","day","skipFirst","skipLast","offset","numberOfWeeks","isInWeek","ruleWeekValues","weekDays","ruleWeekOffset","weekNumber","currentDay","length","result","idx","push","ruleValues","rules","value","normalize","ruleValue","availableRules","parseArray","list","range","parseInt","isNaN","start","end","sort","numberSortPredicate","parseWeekDayList","valueLength","substring","toUpperCase","WEEK_DAYS_IDX","serializeWeekDayList","valueString","WEEK_DAYS","getMonthLength","MONTHS","a","b","parseExceptions","exceptions","zone","dates","split","parseUTCDate","isException","isArray","dateTime","getMilliseconds","toExceptionString","concat","kendo","timezone","convert","getTimezoneOffset","toString","RECURRENCE_DATE_FORMAT","join","startPeriodByFreq","freq","setFullYear","hours","setHours","minutes","setMinutes","seconds","setSeconds","endPeriodByFreq","normalizeEventsByPosition","events","position","event","periodEvents","slice","_startIdx","periodEventsLength","positions","expand","startTime","endTime","endDate","durationMS","startPeriod","inPeriod","ruleStart","ruleEnd","useEventStart","freqName","exceptionDates","eventStartTime","eventStartMS","eventStart","count","current","parseRule","recurrenceRule","clone","recurrenceException","exdates","set","frequencies","until","getHours","getMinutes","getSeconds","_startPeriod","kendoDate","_endPeriod","duration","_startTime","toInvariantTime","setup","limit","setTime","toUtcTime","toOccurrence","_endTime","next","parseDate","DATE_FORMATS","parseDateRule","dateRule","pair","property","tzid","valueIdx","pairs","indexOf","recur","splits","part","parts","instance","predicate","day1","day2","trim","toLowerCase","monthDays","yearDays","months","weeks","culture","calendar","firstDay","_hasRuleValue","serializeDateRule","val","serialize","ruleString","weekDayCheckBoxes","RECURRENCE_VIEW_TEMPLATE","DAY_RULE","WEEKDAY_RULE","WEEKEND_RULE","BaseRecurrenceEditor","RecurrenceEditor","RECURRENCE_HEADER_TEMPLATE","RECURRENCE_REPEAT_PATTERN_TEMPLATE","RECURRENCE_END_PATTERN_TEMPLATE","RECURRENCE_GROUP_BUTTON_TEMPLATE","MobileRecurrenceEditor","window","Class","ui","Widget","DropDownList",0,1,2,3,4,5,6,"SU","MO","TU","WE","TH","FR","SA","RULE_NAMES","RULE_NAMES_LENGTH","limitation","monthRules","changed","setMonth","monthLength","monthDay","yearDay","week","weekDayRule","weekDayRules","hourRules","startHours","minuteRules","currentMinutes","secondRules","BaseFrequency","extend","options","this","_hour","ruleName","firstRule","modified","startTimeHours","frequency","MS_PER_HOUR","MS_PER_MINUTE","MS_PER_DAY","_date","HourlyFrequency","fn","DailyFrequency","WeeklyFrequency","eventStartDate","MonthlyFrequency","YearlyFrequency","hourly","daily","weekly","monthly","yearly","CLICK","recurrence","parse","shortNames","namesShort","values","template","init","element","that","call","wrapper","today","_namespace","name","spinners","mobile","messages","never","repeatEvery","repeatOn","of","label","mobileLabel","after","occurrence","on","offsetPositions","first","second","third","fourth","last","weekdays","weekday","weekend","_initInterval","_value","_container","find","kendoNumericTextBox","decimals","format","min","change","_trigger","_weekDayRule","clear","_weekDay","_weekDayOffset","_weekDayView","weekDayOffset","weekDayValue","method","weekDayOffsetWidget","_initWeekDay","data","weekdayMessage","offsetMessage","weekDayInput","dataTextField","dataValueField","dataSource","text","map","names","dayName","_initWeekDays","i","l","filter","checkbox","checked","_initMonthDay","monthDayInput","_monthDay","NumericTextBox","max","_initCount","input","_count","_initUntil","_until","kendoDatePicker","trigger","_initFrequency","_initContainer","destroy","_frequency","off","select","_initView","container","editContainer","parent","insertAfter","append","ddl","html","_initMonth","_period","_end","monthInputs","monthName","_month1","_month2","endRule","namespace","click","e","_toggleEnd","currentTarget","_buttonNever","_buttonCount","_buttonUntil","toggleRule","_toggleMonthDay","_toggleYear","selector","radioButtons","_buttonMonthDay","eq","_buttonWeekDay","enableCount","enableUntil","prop","enable","monthRule","enableMonthDay","enableWeekDay","yearRule","enableMonth1","enableMonth2","plugin","_optionTemplate","_pane","pane","_initRepeatButton","_initRepeatEnd","_defaultValue","animations","left","right","cancel","update","endTitle","repeatTitle","headerTitle","patterns","repeatBy","dayOfMonth","dayOfWeek","every","_destroyView","_endFields","_repeatButton","preventDefault","_createView","navigate","endLabelField","endEditField","add","toggleClass","_endButton","_endText","frequencyMessages","ns","_view","li","addClass","siblings","removeClass","children","attr","_initRepeatView","_initEndNavigation","endMessages","_initEndView","viewType","returnViewId","view","id","stopPropagation","hasClass","one","remove","endPattern","weekDaySelect","_options","monthSelect","monthNames","_monthSelect","currentValue","repeatRuleGroupButton","weekDayView","monthDayView","weekDayName","hide","show","support","optionLabel","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.scheduler.recurrence.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.scheduler.recurrence', [\n        'kendo.dropdownlist',\n        'kendo.datepicker',\n        'kendo.numerictextbox'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'scheduler.recurrence',\n        name: 'Recurrence',\n        category: 'web',\n        depends: [\n            'dropdownlist',\n            'datepicker',\n            'numerictextbox'\n        ],\n        hidden: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, timezone = kendo.timezone, Class = kendo.Class, ui = kendo.ui, Widget = ui.Widget, DropDownList = ui.DropDownList, kendoDate = kendo.date, setTime = kendoDate.setTime, setDayOfWeek = kendoDate.setDayOfWeek, adjustDST = kendoDate.adjustDST, firstDayOfMonth = kendoDate.firstDayOfMonth, getMilliseconds = kendoDate.getMilliseconds, DAYS_IN_LEAPYEAR = [\n                0,\n                31,\n                60,\n                91,\n                121,\n                152,\n                182,\n                213,\n                244,\n                274,\n                305,\n                335,\n                366\n            ], DAYS_IN_YEAR = [\n                0,\n                31,\n                59,\n                90,\n                120,\n                151,\n                181,\n                212,\n                243,\n                273,\n                304,\n                334,\n                365\n            ], MONTHS = [\n                31,\n                28,\n                30,\n                31,\n                30,\n                31,\n                30,\n                31,\n                30,\n                31,\n                30,\n                31\n            ], WEEK_DAYS = {\n                0: 'SU',\n                1: 'MO',\n                2: 'TU',\n                3: 'WE',\n                4: 'TH',\n                5: 'FR',\n                6: 'SA'\n            }, WEEK_DAYS_IDX = {\n                'SU': 0,\n                'MO': 1,\n                'TU': 2,\n                'WE': 3,\n                'TH': 4,\n                'FR': 5,\n                'SA': 6\n            }, DATE_FORMATS = [\n                'yyyy-MM-ddTHH:mm:ss.fffzzz',\n                'yyyy-MM-ddTHH:mm:sszzz',\n                'yyyy-MM-ddTHH:mm:ss',\n                'yyyy-MM-ddTHH:mm',\n                'yyyy-MM-ddTHH',\n                'yyyy-MM-dd',\n                'yyyyMMddTHHmmssfffzzz',\n                'yyyyMMddTHHmmsszzz',\n                'yyyyMMddTHHmmss',\n                'yyyyMMddTHHmm',\n                'yyyyMMddTHH',\n                'yyyyMMdd'\n            ], RULE_NAMES = [\n                'months',\n                'weeks',\n                'yearDays',\n                'monthDays',\n                'weekDays',\n                'hours',\n                'minutes',\n                'seconds'\n            ], RULE_NAMES_LENGTH = RULE_NAMES.length, RECURRENCE_DATE_FORMAT = 'yyyyMMddTHHmmssZ', limitation = {\n                months: function (date, end, rule) {\n                    var monthRules = rule.months, months = ruleValues(monthRules, date.getMonth() + 1), changed = false;\n                    if (months !== null) {\n                        if (months.length) {\n                            date.setMonth(months[0] - 1, 1);\n                        } else {\n                            date.setFullYear(date.getFullYear() + 1, monthRules[0] - 1, 1);\n                        }\n                        changed = true;\n                    }\n                    return changed;\n                },\n                monthDays: function (date, end, rule) {\n                    var monthLength, month, days, changed = false, hours = date.getHours(), normalize = function (monthDay) {\n                            if (monthDay < 0) {\n                                monthDay = monthLength + monthDay;\n                            }\n                            return monthDay;\n                        };\n                    while (date <= end) {\n                        month = date.getMonth();\n                        monthLength = getMonthLength(date);\n                        days = ruleValues(rule.monthDays, date.getDate(), normalize);\n                        if (days === null) {\n                            return changed;\n                        }\n                        changed = true;\n                        if (days.length) {\n                            date.setMonth(month, days.sort(numberSortPredicate)[0]);\n                            adjustDST(date, hours);\n                            if (month === date.getMonth()) {\n                                break;\n                            }\n                        } else {\n                            date.setMonth(month + 1, 1);\n                        }\n                    }\n                    return changed;\n                },\n                yearDays: function (date, end, rule) {\n                    var year, yearDays, changed = false, hours = date.getHours(), normalize = function (yearDay) {\n                            if (yearDay < 0) {\n                                yearDay = year + yearDay;\n                            }\n                            return yearDay;\n                        };\n                    while (date < end) {\n                        year = leapYear(date) ? 366 : 365;\n                        yearDays = ruleValues(rule.yearDays, dayInYear(date), normalize);\n                        if (yearDays === null) {\n                            return changed;\n                        }\n                        changed = true;\n                        year = date.getFullYear();\n                        if (yearDays.length) {\n                            date.setFullYear(year, 0, yearDays.sort(numberSortPredicate)[0]);\n                            adjustDST(date, hours);\n                            break;\n                        } else {\n                            date.setFullYear(year + 1, 0, 1);\n                        }\n                    }\n                    return changed;\n                },\n                weeks: function (date, end, rule) {\n                    var weekStart = rule.weekStart, year, weeks, day, changed = false, hours = date.getHours(), normalize = function (week) {\n                            if (week < 0) {\n                                week = 53 + week;\n                            }\n                            return week;\n                        };\n                    while (date < end) {\n                        weeks = ruleValues(rule.weeks, weekInYear(date, weekStart), normalize);\n                        if (weeks === null) {\n                            return changed;\n                        }\n                        changed = true;\n                        year = date.getFullYear();\n                        if (weeks.length) {\n                            day = weeks.sort(numberSortPredicate)[0] * 7 - 1;\n                            date.setFullYear(year, 0, day);\n                            setDayOfWeek(date, weekStart, -1);\n                            adjustDST(date, hours);\n                            break;\n                        } else {\n                            date.setFullYear(year + 1, 0, 1);\n                        }\n                    }\n                    return changed;\n                },\n                weekDays: function (date, end, rule) {\n                    var weekDays = rule.weekDays;\n                    var weekStart = rule.weekStart;\n                    var weekDayRules = ruleWeekValues(weekDays, date, weekStart);\n                    var hours = date.getHours();\n                    var weekDayRule, day;\n                    if (weekDayRules === null) {\n                        return false;\n                    }\n                    weekDayRule = weekDayRules[0];\n                    if (!weekDayRule) {\n                        weekDayRule = weekDays[0];\n                        setDayOfWeek(date, weekStart);\n                    }\n                    day = weekDayRule.day;\n                    if (weekDayRule.offset) {\n                        while (date <= end && !isInWeek(date, weekDayRule, weekStart)) {\n                            if (weekInMonth(date, weekStart) === numberOfWeeks(date, weekStart)) {\n                                date.setMonth(date.getMonth() + 1, 1);\n                                adjustDST(date, hours);\n                            } else {\n                                date.setDate(date.getDate() + 7);\n                                adjustDST(date, hours);\n                                setDayOfWeek(date, weekStart, -1);\n                            }\n                        }\n                    }\n                    if (date.getDay() !== day) {\n                        setDayOfWeek(date, day);\n                    }\n                    return true;\n                },\n                hours: function (date, end, rule) {\n                    var hourRules = rule.hours, startTime = rule._startTime, startHours = startTime.getHours(), hours = ruleValues(hourRules, startHours), changed = false;\n                    if (hours !== null) {\n                        changed = true;\n                        date.setHours(startHours);\n                        adjustDST(date, startHours);\n                        if (hours.length) {\n                            hours = hours[0];\n                            date.setHours(hours);\n                        } else {\n                            hours = date.getHours();\n                            date.setDate(date.getDate() + 1);\n                            adjustDST(date, hours);\n                            hours = hourRules[0];\n                            date.setHours(hours);\n                            adjustDST(date, hours);\n                        }\n                        if (rule.minutes) {\n                            date.setMinutes(0);\n                        }\n                        startTime.setHours(hours, date.getMinutes());\n                    }\n                    return changed;\n                },\n                minutes: function (date, end, rule) {\n                    var minuteRules = rule.minutes, currentMinutes = date.getMinutes(), minutes = ruleValues(minuteRules, currentMinutes), hours = rule._startTime.getHours(), changed = false;\n                    if (minutes !== null) {\n                        changed = true;\n                        if (minutes.length) {\n                            minutes = minutes[0];\n                        } else {\n                            hours += 1;\n                            minutes = minuteRules[0];\n                        }\n                        if (rule.seconds) {\n                            date.setSeconds(0);\n                        }\n                        date.setHours(hours, minutes);\n                        hours = hours % 24;\n                        adjustDST(date, hours);\n                        rule._startTime.setHours(hours, minutes, date.getSeconds());\n                    }\n                    return changed;\n                },\n                seconds: function (date, end, rule) {\n                    var secondRules = rule.seconds, hours = rule._startTime.getHours(), seconds = ruleValues(secondRules, date.getSeconds()), minutes = date.getMinutes(), changed = false;\n                    if (seconds !== null) {\n                        changed = true;\n                        if (seconds.length) {\n                            date.setSeconds(seconds[0]);\n                        } else {\n                            minutes += 1;\n                            date.setMinutes(minutes, secondRules[0]);\n                            if (minutes > 59) {\n                                minutes = minutes % 60;\n                                hours = (hours + 1) % 24;\n                            }\n                        }\n                        rule._startTime.setHours(hours, minutes, date.getSeconds());\n                    }\n                    return changed;\n                }\n            }, BaseFrequency = Class.extend({\n                next: function (date, rule) {\n                    var startTime = rule._startTime, day = startTime.getDate(), minutes, seconds;\n                    if (rule.seconds) {\n                        seconds = date.getSeconds() + 1;\n                        date.setSeconds(seconds);\n                        startTime.setSeconds(seconds);\n                        startTime.setDate(day);\n                    } else if (rule.minutes) {\n                        minutes = date.getMinutes() + 1;\n                        date.setMinutes(minutes);\n                        startTime.setMinutes(minutes);\n                        startTime.setDate(day);\n                    } else {\n                        return false;\n                    }\n                    return true;\n                },\n                normalize: function (options) {\n                    var rule = options.rule;\n                    if (options.idx === 4 && rule.hours) {\n                        rule._startTime.setHours(0);\n                        this._hour(options.date, rule);\n                    }\n                },\n                limit: function (date, end, rule) {\n                    var interval = rule.interval, ruleName, firstRule, modified, idx, day;\n                    while (date <= end) {\n                        modified = firstRule = undefined;\n                        day = date.getDate();\n                        for (idx = 0; idx < RULE_NAMES_LENGTH; idx++) {\n                            ruleName = RULE_NAMES[idx];\n                            if (rule[ruleName]) {\n                                modified = limitation[ruleName](date, end, rule);\n                                if (firstRule !== undefined && modified) {\n                                    break;\n                                } else {\n                                    firstRule = modified;\n                                }\n                            }\n                            if (modified) {\n                                this.normalize({\n                                    date: date,\n                                    rule: rule,\n                                    day: day,\n                                    idx: idx\n                                });\n                            }\n                        }\n                        if ((interval === 1 || !this.interval(rule, date)) && idx === RULE_NAMES_LENGTH) {\n                            break;\n                        }\n                    }\n                },\n                interval: function (rule, current) {\n                    var start = new Date(rule._startPeriod);\n                    var date = new Date(current);\n                    var hours = current.getHours();\n                    var weekStart = rule.weekStart;\n                    var interval = rule.interval;\n                    var frequency = rule.freq;\n                    var modified = false;\n                    var excess = 0;\n                    var month = 0;\n                    var day = 1;\n                    var diff;\n                    var startTimeHours;\n                    if (frequency === 'hourly') {\n                        diff = date.getTimezoneOffset() - start.getTimezoneOffset();\n                        startTimeHours = rule._startTime.getHours();\n                        date = date.getTime();\n                        if (hours !== startTimeHours) {\n                            date += (startTimeHours - hours) * kendoDate.MS_PER_HOUR;\n                        }\n                        date -= start;\n                        if (diff) {\n                            date -= diff * kendoDate.MS_PER_MINUTE;\n                        }\n                        diff = Math.floor(date / kendoDate.MS_PER_HOUR);\n                        excess = intervalExcess(diff, interval);\n                        if (excess !== 0) {\n                            this._hour(current, rule, excess);\n                            modified = true;\n                        }\n                    } else if (frequency === 'daily') {\n                        kendoDate.setTime(date, -start);\n                        diff = Math.floor(date / kendoDate.MS_PER_DAY);\n                        excess = intervalExcess(diff, interval);\n                        if (excess !== 0) {\n                            this._date(current, rule, excess);\n                            modified = true;\n                        }\n                    } else if (frequency === 'weekly') {\n                        diff = (current.getFullYear() - start.getFullYear()) * 52;\n                        excess = weekInYear(current, weekStart) - weekInYear(start, weekStart) + diff;\n                        excess = intervalExcess(excess, interval);\n                        if (excess !== 0) {\n                            kendoDate.setDayOfWeek(current, rule.weekStart, -1);\n                            current.setDate(current.getDate() + excess * 7);\n                            adjustDST(current, hours);\n                            modified = true;\n                        }\n                    } else if (frequency === 'monthly') {\n                        diff = current.getFullYear() - start.getFullYear();\n                        diff = current.getMonth() - start.getMonth() + diff * 12;\n                        excess = intervalExcess(diff, interval);\n                        if (excess !== 0) {\n                            day = rule._hasRuleValue ? 1 : current.getDate();\n                            current.setFullYear(current.getFullYear(), current.getMonth() + excess, day);\n                            adjustDST(current, hours);\n                            modified = true;\n                        }\n                    } else if (frequency === 'yearly') {\n                        diff = current.getFullYear() - start.getFullYear();\n                        excess = intervalExcess(diff, interval);\n                        if (!rule.months) {\n                            month = current.getMonth();\n                        }\n                        if (!rule.yearDays && !rule.monthDays && !rule.weekDays) {\n                            day = current.getDate();\n                        }\n                        if (excess !== 0) {\n                            current.setFullYear(current.getFullYear() + excess, month, day);\n                            adjustDST(current, hours);\n                            modified = true;\n                        }\n                    }\n                    return modified;\n                },\n                _hour: function (date, rule, interval) {\n                    var startTime = rule._startTime, hours = startTime.getHours();\n                    if (interval) {\n                        hours += interval;\n                    }\n                    date.setHours(hours);\n                    hours = hours % 24;\n                    startTime.setHours(hours);\n                    adjustDST(date, hours);\n                },\n                _date: function (date, rule, interval) {\n                    var hours = date.getHours();\n                    date.setDate(date.getDate() + interval);\n                    if (!adjustDST(date, hours)) {\n                        this._hour(date, rule);\n                    }\n                }\n            }), HourlyFrequency = BaseFrequency.extend({\n                next: function (date, rule) {\n                    if (!BaseFrequency.fn.next(date, rule)) {\n                        this._hour(date, rule, 1);\n                    }\n                },\n                normalize: function (options) {\n                    var rule = options.rule;\n                    if (options.idx === 4) {\n                        rule._startTime.setHours(0);\n                        this._hour(options.date, rule);\n                    }\n                }\n            }), DailyFrequency = BaseFrequency.extend({\n                next: function (date, rule) {\n                    if (!BaseFrequency.fn.next(date, rule)) {\n                        this[rule.hours ? '_hour' : '_date'](date, rule, 1);\n                    }\n                }\n            }), WeeklyFrequency = DailyFrequency.extend({\n                setup: function (rule, eventStartDate) {\n                    if (!rule.weekDays) {\n                        rule.weekDays = [{\n                                day: eventStartDate.getDay(),\n                                offset: 0\n                            }];\n                    }\n                }\n            }), MonthlyFrequency = BaseFrequency.extend({\n                next: function (date, rule) {\n                    var day, hours;\n                    if (!BaseFrequency.fn.next(date, rule)) {\n                        if (rule.hours) {\n                            this._hour(date, rule, 1);\n                        } else if (rule.monthDays || rule.weekDays || rule.yearDays || rule.weeks) {\n                            this._date(date, rule, 1);\n                        } else {\n                            day = date.getDate();\n                            hours = date.getHours();\n                            date.setMonth(date.getMonth() + 1);\n                            adjustDST(date, hours);\n                            while (date.getDate() !== day) {\n                                date.setDate(day);\n                                adjustDST(date, hours);\n                            }\n                            this._hour(date, rule);\n                        }\n                    }\n                },\n                normalize: function (options) {\n                    var rule = options.rule, date = options.date, hours = date.getHours();\n                    if (options.idx === 0 && !rule.monthDays && !rule.weekDays) {\n                        date.setDate(options.day);\n                        adjustDST(date, hours);\n                    } else {\n                        BaseFrequency.fn.normalize(options);\n                    }\n                },\n                setup: function (rule, eventStartDate, date) {\n                    if (!rule.monthDays && !rule.weekDays) {\n                        date.setDate(eventStartDate.getDate());\n                    }\n                }\n            }), YearlyFrequency = MonthlyFrequency.extend({\n                next: function (date, rule) {\n                    var day, hours = date.getHours();\n                    if (!BaseFrequency.fn.next(date, rule)) {\n                        if (rule.hours) {\n                            this._hour(date, rule, 1);\n                        } else if (rule.monthDays || rule.weekDays || rule.yearDays || rule.weeks) {\n                            this._date(date, rule, 1);\n                        } else if (rule.months) {\n                            day = date.getDate();\n                            date.setMonth(date.getMonth() + 1);\n                            adjustDST(date, hours);\n                            while (date.getDate() !== day) {\n                                date.setDate(day);\n                                adjustDST(date, hours);\n                            }\n                            this._hour(date, rule);\n                        } else {\n                            date.setFullYear(date.getFullYear() + 1);\n                            adjustDST(date, hours);\n                            this._hour(date, rule);\n                        }\n                    }\n                },\n                setup: function () {\n                }\n            }), frequencies = {\n                'hourly': new HourlyFrequency(),\n                'daily': new DailyFrequency(),\n                'weekly': new WeeklyFrequency(),\n                'monthly': new MonthlyFrequency(),\n                'yearly': new YearlyFrequency()\n            }, CLICK = 'click';\n        function intervalExcess(diff, interval) {\n            var excess;\n            if (diff !== 0 && diff < interval) {\n                excess = interval - diff;\n            } else {\n                excess = diff % interval;\n                if (excess) {\n                    excess = interval - excess;\n                }\n            }\n            return excess;\n        }\n        function dayInYear(date) {\n            var month = date.getMonth();\n            var days = leapYear(date) ? DAYS_IN_LEAPYEAR[month] : DAYS_IN_YEAR[month];\n            return days + date.getDate();\n        }\n        function weekInYear(date, weekStart) {\n            var year, days;\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n            adjustDST(date, 0);\n            year = date.getFullYear();\n            if (weekStart !== undefined) {\n                setDayOfWeek(date, weekStart, -1);\n                date.setDate(date.getDate() + 4);\n            } else {\n                date.setDate(date.getDate() + (4 - (date.getDay() || 7)));\n            }\n            adjustDST(date, 0);\n            days = Math.floor((date.getTime() - new Date(year, 0, 1, -6)) / 86400000);\n            return 1 + Math.floor(days / 7);\n        }\n        function weekInMonth(date, weekStart) {\n            var firstWeekDay = firstDayOfMonth(date).getDay();\n            var firstWeekLength = 7 - (firstWeekDay + 7 - (weekStart || 7)) || 7;\n            if (firstWeekLength < 0) {\n                firstWeekLength += 7;\n            }\n            return Math.ceil((date.getDate() - firstWeekLength) / 7) + 1;\n        }\n        function normalizeDayIndex(weekDay, weekStart) {\n            return weekDay + (weekDay < weekStart ? 7 : 0);\n        }\n        function normalizeOffset(date, rule, weekStart) {\n            var offset = rule.offset;\n            if (!offset) {\n                return weekInMonth(date, weekStart);\n            }\n            var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n            var weeksInMonth = weekInMonth(lastDate, weekStart);\n            var day = normalizeDayIndex(rule.day, weekStart);\n            var skipFirst = day < normalizeDayIndex(new Date(date.getFullYear(), date.getMonth(), 1).getDay(), weekStart);\n            var skipLast = day > normalizeDayIndex(lastDate.getDay(), weekStart);\n            if (offset < 0) {\n                offset = weeksInMonth + (offset + 1 - (skipLast ? 1 : 0));\n            } else if (skipFirst) {\n                offset += 1;\n            }\n            weeksInMonth -= skipLast ? 1 : 0;\n            if (offset < (skipFirst ? 1 : 0) || offset > weeksInMonth) {\n                return null;\n            }\n            return offset;\n        }\n        function numberOfWeeks(date, weekStart) {\n            return weekInMonth(new Date(date.getFullYear(), date.getMonth() + 1, 0), weekStart);\n        }\n        function isInWeek(date, rule, weekStart) {\n            return weekInMonth(date, weekStart) === normalizeOffset(date, rule, weekStart);\n        }\n        function ruleWeekValues(weekDays, date, weekStart) {\n            var currentDay = normalizeDayIndex(date.getDay(), weekStart);\n            var length = weekDays.length;\n            var ruleWeekOffset;\n            var weekDay, day;\n            var weekNumber;\n            var result = [];\n            var idx = 0;\n            for (; idx < length; idx++) {\n                weekDay = weekDays[idx];\n                weekNumber = weekInMonth(date, weekStart);\n                ruleWeekOffset = normalizeOffset(date, weekDay, weekStart);\n                if (ruleWeekOffset === null) {\n                    continue;\n                }\n                if (weekNumber < ruleWeekOffset) {\n                    result.push(weekDay);\n                } else if (weekNumber === ruleWeekOffset) {\n                    day = normalizeDayIndex(weekDay.day, weekStart);\n                    if (currentDay < day) {\n                        result.push(weekDay);\n                    } else if (currentDay === day) {\n                        return null;\n                    }\n                }\n            }\n            return result;\n        }\n        function ruleValues(rules, value, normalize) {\n            var idx = 0, length = rules.length, availableRules = [], ruleValue;\n            for (; idx < length; idx++) {\n                ruleValue = rules[idx];\n                if (normalize) {\n                    ruleValue = normalize(ruleValue);\n                }\n                if (value === ruleValue) {\n                    return null;\n                } else if (value < ruleValue) {\n                    availableRules.push(ruleValue);\n                }\n            }\n            return availableRules;\n        }\n        function parseArray(list, range) {\n            var idx = 0, length = list.length, value;\n            for (; idx < length; idx++) {\n                value = parseInt(list[idx], 10);\n                if (isNaN(value) || value < range.start || value > range.end || value === 0 && range.start < 0) {\n                    return null;\n                }\n                list[idx] = value;\n            }\n            return list.sort(numberSortPredicate);\n        }\n        function parseWeekDayList(list) {\n            var idx = 0, length = list.length, value, valueLength, day;\n            for (; idx < length; idx++) {\n                value = list[idx];\n                valueLength = value.length;\n                day = value.substring(valueLength - 2).toUpperCase();\n                day = WEEK_DAYS_IDX[day];\n                if (day === undefined) {\n                    return null;\n                }\n                list[idx] = {\n                    offset: parseInt(value.substring(0, valueLength - 2), 10) || 0,\n                    day: day\n                };\n            }\n            return list;\n        }\n        function serializeWeekDayList(list) {\n            var idx = 0, length = list.length, value, valueString, result = [];\n            for (; idx < length; idx++) {\n                value = list[idx];\n                if (typeof value === 'string') {\n                    valueString = value;\n                } else {\n                    valueString = '' + WEEK_DAYS[value.day];\n                    if (value.offset) {\n                        valueString = value.offset + valueString;\n                    }\n                }\n                result.push(valueString);\n            }\n            return result.toString();\n        }\n        function getMonthLength(date) {\n            var month = date.getMonth();\n            if (month === 1) {\n                if (new Date(date.getFullYear(), 1, 29).getMonth() === 1) {\n                    return 29;\n                }\n                return 28;\n            }\n            return MONTHS[month];\n        }\n        function leapYear(year) {\n            year = year.getFullYear();\n            return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n        }\n        function numberSortPredicate(a, b) {\n            return a - b;\n        }\n        function parseExceptions(exceptions, zone) {\n            var idx = 0, length, date, dates = [];\n            if (exceptions) {\n                exceptions = exceptions.split(';');\n                length = exceptions.length;\n                for (; idx < length; idx++) {\n                    date = parseUTCDate(exceptions[idx], zone);\n                    if (date) {\n                        dates.push(date);\n                    }\n                }\n            }\n            return dates;\n        }\n        function isException(exceptions, date, zone) {\n            var dates = $.isArray(exceptions) ? exceptions : parseExceptions(exceptions, zone), dateTime = date.getTime() - date.getMilliseconds(), idx = 0, length = dates.length;\n            for (; idx < length; idx++) {\n                if (dates[idx].getTime() === dateTime) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        function toExceptionString(dates, zone) {\n            var idx = 0;\n            var length;\n            var date;\n            var result = [].concat(dates);\n            for (length = result.length; idx < length; idx++) {\n                date = result[idx];\n                date = kendo.timezone.convert(date, zone || date.getTimezoneOffset(), 'Etc/UTC');\n                result[idx] = kendo.toString(date, RECURRENCE_DATE_FORMAT);\n            }\n            return result.join(';') + ';';\n        }\n        function startPeriodByFreq(start, rule) {\n            var date = new Date(start);\n            switch (rule.freq) {\n            case 'yearly':\n                date.setFullYear(date.getFullYear(), 0, 1);\n                break;\n            case 'monthly':\n                date.setFullYear(date.getFullYear(), date.getMonth(), 1);\n                break;\n            case 'weekly':\n                setDayOfWeek(date, rule.weekStart, -1);\n                break;\n            default:\n                break;\n            }\n            if (rule.hours) {\n                date.setHours(0);\n            }\n            if (rule.minutes) {\n                date.setMinutes(0);\n            }\n            if (rule.seconds) {\n                date.setSeconds(0);\n            }\n            return date;\n        }\n        function endPeriodByFreq(start, rule) {\n            var date = new Date(start);\n            switch (rule.freq) {\n            case 'yearly':\n                date.setFullYear(date.getFullYear(), 11, 31);\n                break;\n            case 'monthly':\n                date.setFullYear(date.getFullYear(), date.getMonth() + 1, 0);\n                break;\n            case 'weekly':\n                setDayOfWeek(date, rule.weekStart, -1);\n                date.setDate(date.getDate() + 6);\n                break;\n            default:\n                break;\n            }\n            if (rule.hours) {\n                date.setHours(23);\n            }\n            if (rule.minutes) {\n                date.setMinutes(59);\n            }\n            if (rule.seconds) {\n                date.setSeconds(59);\n            }\n            return date;\n        }\n        function normalizeEventsByPosition(events, start, rule) {\n            var periodEvents = events.slice(rule._startIdx);\n            var periodEventsLength = periodEvents.length;\n            var positions = rule.positions;\n            var list = [];\n            var position;\n            var event;\n            for (var idx = 0, length = positions.length; idx < length; idx++) {\n                position = positions[idx];\n                if (position < 0) {\n                    position = periodEventsLength + position;\n                } else {\n                    position -= 1;\n                }\n                event = periodEvents[position];\n                if (event && event.start >= start) {\n                    list.push(event);\n                }\n            }\n            events = events.slice(0, rule._startIdx).concat(list);\n            rule._startIdx = events.length;\n            return events;\n        }\n        function expand(event, start, end, zone) {\n            var rule = parseRule(event.recurrenceRule, zone), startTime, endTime, endDate, hours, minutes, seconds, durationMS, startPeriod, inPeriod, ruleStart, ruleEnd, useEventStart, freqName, exceptionDates, eventStartTime, eventStartMS, eventStart, count, freq, positions, current, events = [];\n            if (!rule) {\n                return [event];\n            }\n            positions = rule.positions;\n            current = positions ? 0 : 1;\n            ruleStart = rule.start;\n            ruleEnd = rule.end;\n            if (ruleStart || ruleEnd) {\n                event = event.clone({\n                    start: ruleStart ? new Date(ruleStart.value[0]) : undefined,\n                    end: ruleEnd ? new Date(ruleEnd.value[0]) : undefined\n                });\n            }\n            eventStart = event.start;\n            eventStartMS = eventStart.getTime();\n            eventStartTime = getMilliseconds(eventStart);\n            exceptionDates = parseExceptions(event.recurrenceException, zone);\n            if (!exceptionDates[0] && rule.exdates) {\n                exceptionDates = rule.exdates.value;\n                event.set('recurrenceException', toExceptionString(exceptionDates, zone));\n            }\n            startPeriod = start = new Date(start);\n            end = new Date(end);\n            freqName = rule.freq;\n            freq = frequencies[freqName];\n            count = rule.count;\n            if (rule.until && rule.until < end) {\n                end = new Date(rule.until);\n            }\n            useEventStart = freqName === 'yearly' || freqName === 'monthly' || freqName === 'weekly';\n            if (start < eventStartMS || count || rule.interval > 1 || useEventStart) {\n                start = new Date(eventStartMS);\n            } else {\n                hours = start.getHours();\n                minutes = start.getMinutes();\n                seconds = start.getSeconds();\n                if (!rule.hours) {\n                    hours = eventStart.getHours();\n                }\n                if (!rule.minutes) {\n                    minutes = eventStart.getMinutes();\n                }\n                if (!rule.seconds) {\n                    seconds = eventStart.getSeconds();\n                }\n                start.setHours(hours, minutes, seconds, eventStart.getMilliseconds());\n            }\n            rule._startPeriod = new Date(start);\n            if (positions) {\n                start = startPeriodByFreq(start, rule);\n                end = endPeriodByFreq(end, rule);\n                var diff = getMilliseconds(end) - getMilliseconds(start);\n                if (diff < 0) {\n                    hours = start.getHours();\n                    end.setHours(hours, start.getMinutes(), start.getSeconds(), start.getMilliseconds());\n                    kendoDate.adjustDST(end, hours);\n                }\n                rule._startPeriod = new Date(start);\n                rule._endPeriod = endPeriodByFreq(start, rule);\n                rule._startIdx = 0;\n            }\n            durationMS = event.duration();\n            rule._startTime = startTime = kendoDate.toInvariantTime(start);\n            if (freq.setup) {\n                freq.setup(rule, eventStart, start);\n            }\n            freq.limit(start, end, rule);\n            while (start <= end) {\n                endDate = new Date(start);\n                setTime(endDate, durationMS);\n                inPeriod = start >= startPeriod || endDate > startPeriod;\n                if (inPeriod && !isException(exceptionDates, start, zone) || positions) {\n                    startTime = kendoDate.toUtcTime(kendoDate.getDate(start)) + getMilliseconds(rule._startTime);\n                    endTime = startTime + durationMS;\n                    if (eventStartMS !== start.getTime() || eventStartTime !== getMilliseconds(rule._startTime)) {\n                        events.push(event.toOccurrence({\n                            start: new Date(start),\n                            end: endDate,\n                            _startTime: startTime,\n                            _endTime: endTime\n                        }));\n                    } else {\n                        event._startTime = startTime;\n                        event._endTime = endTime;\n                        events.push(event);\n                    }\n                }\n                if (positions) {\n                    freq.next(start, rule);\n                    freq.limit(start, end, rule);\n                    if (start > rule._endPeriod) {\n                        events = normalizeEventsByPosition(events, eventStart, rule);\n                        rule._endPeriod = endPeriodByFreq(start, rule);\n                        current = events.length;\n                    }\n                    if (count && count === current) {\n                        break;\n                    }\n                } else {\n                    if (count && count === current) {\n                        break;\n                    }\n                    current++;\n                    freq.next(start, rule);\n                    freq.limit(start, end, rule);\n                }\n            }\n            return events;\n        }\n        function parseUTCDate(value, zone) {\n            value = kendo.parseDate(value, DATE_FORMATS);\n            if (value && zone) {\n                value = timezone.convert(value, value.getTimezoneOffset(), zone);\n            }\n            return value;\n        }\n        function parseDateRule(dateRule, zone) {\n            var pairs = dateRule.split(';');\n            var pair;\n            var property;\n            var value;\n            var tzid;\n            var valueIdx, valueLength;\n            for (var idx = 0, length = pairs.length; idx < length; idx++) {\n                pair = pairs[idx].split(':');\n                property = pair[0];\n                value = pair[1];\n                if (property.indexOf('TZID') !== -1) {\n                    tzid = property.substring(property.indexOf('TZID')).split('=')[1];\n                }\n                if (value) {\n                    value = value.split(',');\n                    for (valueIdx = 0, valueLength = value.length; valueIdx < valueLength; valueIdx++) {\n                        value[valueIdx] = parseUTCDate(value[valueIdx], tzid || zone);\n                    }\n                }\n            }\n            if (value) {\n                return {\n                    value: value,\n                    tzid: tzid\n                };\n            }\n        }\n        function parseRule(recur, zone) {\n            var instance = {};\n            var splits, value;\n            var idx = 0, length;\n            var ruleValue = false;\n            var rule, part, parts;\n            var property, weekStart, weekDays;\n            var predicate = function (a, b) {\n                var day1 = a.day, day2 = b.day;\n                if (day1 < weekStart) {\n                    day1 += 7;\n                }\n                if (day2 < weekStart) {\n                    day2 += 7;\n                }\n                return day1 - day2;\n            };\n            if (!recur) {\n                return null;\n            }\n            parts = recur.split('\\n');\n            if (!parts[1] && (recur.indexOf('DTSTART') !== -1 || recur.indexOf('DTEND') !== -1 || recur.indexOf('EXDATE') !== -1)) {\n                parts = recur.split(' ');\n            }\n            for (idx = 0, length = parts.length; idx < length; idx++) {\n                part = $.trim(parts[idx]);\n                if (part.indexOf('DTSTART') !== -1) {\n                    instance.start = parseDateRule(part, zone);\n                } else if (part.indexOf('DTEND') !== -1) {\n                    instance.end = parseDateRule(part, zone);\n                } else if (part.indexOf('EXDATE') !== -1) {\n                    instance.exdates = parseDateRule(part, zone);\n                } else if (part.indexOf('RRULE') !== -1) {\n                    rule = part.substring(6);\n                } else if ($.trim(part)) {\n                    rule = part;\n                }\n            }\n            rule = rule.split(';');\n            for (idx = 0, length = rule.length; idx < length; idx++) {\n                property = rule[idx];\n                splits = property.split('=');\n                value = $.trim(splits[1]).split(',');\n                switch ($.trim(splits[0]).toUpperCase()) {\n                case 'FREQ':\n                    instance.freq = value[0].toLowerCase();\n                    break;\n                case 'UNTIL':\n                    instance.until = parseUTCDate(value[0], zone);\n                    break;\n                case 'COUNT':\n                    instance.count = parseInt(value[0], 10);\n                    break;\n                case 'INTERVAL':\n                    instance.interval = parseInt(value[0], 10);\n                    break;\n                case 'BYSECOND':\n                    instance.seconds = parseArray(value, {\n                        start: 0,\n                        end: 60\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYMINUTE':\n                    instance.minutes = parseArray(value, {\n                        start: 0,\n                        end: 59\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYHOUR':\n                    instance.hours = parseArray(value, {\n                        start: 0,\n                        end: 23\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYMONTHDAY':\n                    instance.monthDays = parseArray(value, {\n                        start: -31,\n                        end: 31\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYYEARDAY':\n                    instance.yearDays = parseArray(value, {\n                        start: -366,\n                        end: 366\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYMONTH':\n                    instance.months = parseArray(value, {\n                        start: 1,\n                        end: 12\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYDAY':\n                    instance.weekDays = weekDays = parseWeekDayList(value);\n                    ruleValue = true;\n                    break;\n                case 'BYWEEKNO':\n                    instance.weeks = parseArray(value, {\n                        start: -53,\n                        end: 53\n                    });\n                    ruleValue = true;\n                    break;\n                case 'BYSETPOS':\n                    instance.positions = parseArray(value, {\n                        start: -366,\n                        end: 366\n                    });\n                    break;\n                case 'WKST':\n                    instance.weekStart = weekStart = WEEK_DAYS_IDX[value[0]];\n                    break;\n                }\n            }\n            if (instance.freq === undefined || instance.count !== undefined && instance.until) {\n                return null;\n            }\n            if (!instance.interval) {\n                instance.interval = 1;\n            }\n            if (weekStart === undefined) {\n                instance.weekStart = weekStart = kendo.culture().calendar.firstDay;\n            }\n            if (weekDays) {\n                instance.weekDays = weekDays.sort(predicate);\n            }\n            if (instance.positions && !ruleValue) {\n                instance.positions = null;\n            }\n            instance._hasRuleValue = ruleValue;\n            return instance;\n        }\n        function serializeDateRule(dateRule, zone) {\n            var value = dateRule.value;\n            var tzid = dateRule.tzid || '';\n            var length = value.length;\n            var idx = 0;\n            var val;\n            for (; idx < length; idx++) {\n                val = value[idx];\n                val = timezone.convert(val, tzid || zone || val.getTimezoneOffset(), 'Etc/UTC');\n                value[idx] = kendo.toString(val, 'yyyyMMddTHHmmssZ');\n            }\n            if (tzid) {\n                tzid = ';TZID=' + tzid;\n            }\n            return tzid + ':' + value.join(',') + ' ';\n        }\n        function serialize(rule, zone) {\n            var weekStart = rule.weekStart;\n            var ruleString = 'FREQ=' + rule.freq.toUpperCase();\n            var exdates = rule.exdates || '';\n            var start = rule.start || '';\n            var end = rule.end || '';\n            var until = rule.until;\n            if (rule.interval > 1) {\n                ruleString += ';INTERVAL=' + rule.interval;\n            }\n            if (rule.count) {\n                ruleString += ';COUNT=' + rule.count;\n            }\n            if (until) {\n                until = timezone.convert(until, zone || until.getTimezoneOffset(), 'Etc/UTC');\n                ruleString += ';UNTIL=' + kendo.toString(until, 'yyyyMMddTHHmmssZ');\n            }\n            if (rule.months) {\n                ruleString += ';BYMONTH=' + rule.months;\n            }\n            if (rule.weeks) {\n                ruleString += ';BYWEEKNO=' + rule.weeks;\n            }\n            if (rule.yearDays) {\n                ruleString += ';BYYEARDAY=' + rule.yearDays;\n            }\n            if (rule.monthDays) {\n                ruleString += ';BYMONTHDAY=' + rule.monthDays;\n            }\n            if (rule.weekDays) {\n                ruleString += ';BYDAY=' + serializeWeekDayList(rule.weekDays);\n            }\n            if (rule.hours) {\n                ruleString += ';BYHOUR=' + rule.hours;\n            }\n            if (rule.minutes) {\n                ruleString += ';BYMINUTE=' + rule.minutes;\n            }\n            if (rule.seconds) {\n                ruleString += ';BYSECOND=' + rule.seconds;\n            }\n            if (rule.positions) {\n                ruleString += ';BYSETPOS=' + rule.positions;\n            }\n            if (weekStart !== undefined) {\n                ruleString += ';WKST=' + WEEK_DAYS[weekStart];\n            }\n            if (start) {\n                start = 'DTSTART' + serializeDateRule(start, zone);\n            }\n            if (end) {\n                end = 'DTEND' + serializeDateRule(end, zone);\n            }\n            if (exdates) {\n                exdates = 'EXDATE' + serializeDateRule(exdates, zone);\n            }\n            if (start || end || exdates) {\n                ruleString = start + end + exdates + 'RRULE:' + ruleString;\n            }\n            return ruleString;\n        }\n        kendo.recurrence = {\n            rule: {\n                parse: parseRule,\n                serialize: serialize\n            },\n            expand: expand,\n            dayInYear: dayInYear,\n            weekInYear: weekInYear,\n            weekInMonth: weekInMonth,\n            numberOfWeeks: numberOfWeeks,\n            isException: isException,\n            toExceptionString: toExceptionString\n        };\n        var weekDayCheckBoxes = function (firstDay) {\n            var shortNames = kendo.culture().calendar.days.namesShort, length = shortNames.length, result = '', idx = 0, values = [];\n            for (; idx < length; idx++) {\n                values.push(idx);\n            }\n            shortNames = shortNames.slice(firstDay).concat(shortNames.slice(0, firstDay));\n            values = values.slice(firstDay).concat(values.slice(0, firstDay));\n            for (idx = 0; idx < length; idx++) {\n                result += '<label class=\"k-check\"><input class=\"k-recur-weekday-checkbox\" type=\"checkbox\" value=\"' + values[idx] + '\" /> ' + shortNames[idx] + '</label>';\n            }\n            return result;\n        };\n        var RECURRENCE_VIEW_TEMPLATE = kendo.template('# if (frequency !== \"never\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatEvery#</label></div>' + '<div class=\"k-edit-field\"><input class=\"k-recur-interval\"/>#:messages.interval#</div>' + '# } #' + '# if (frequency === \"weekly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatOn#</label></div>' + '<div class=\"k-edit-field\">#=weekDayCheckBoxes(firstWeekDay)#</div>' + '# } else if (frequency === \"monthly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatOn#</label></div>' + '<div class=\"k-edit-field\">' + '<ul class=\"k-reset\">' + '<li>' + '<label><input class=\"k-recur-month-radio\" type=\"radio\" name=\"month\" value=\"monthday\" />#:messages.day#</label>' + '<input class=\"k-recur-monthday\" />' + '</li>' + '<li>' + '<input class=\"k-recur-month-radio\" type=\"radio\" name=\"month\" value=\"weekday\" />' + '<input class=\"k-recur-weekday-offset\" /><input class=\"k-recur-weekday\" />' + '</li>' + '</ul>' + '</div>' + '# } else if (frequency === \"yearly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatOn#</label></div>' + '<div class=\"k-edit-field\">' + '<ul class=\"k-reset\">' + '<li>' + '<input class=\"k-recur-year-radio\" type=\"radio\" name=\"year\" value=\"monthday\" />' + '<input class=\"k-recur-month\" /><input class=\"k-recur-monthday\" />' + '</li>' + '<li>' + '<input class=\"k-recur-year-radio\" type=\"radio\" name=\"year\" value=\"weekday\" />' + '<input class=\"k-recur-weekday-offset\" /><input class=\"k-recur-weekday\" />#:messages.of#<input class=\"k-recur-month\" />' + '</li>' + '</ul>' + '</div>' + '# } #' + '# if (frequency !== \"never\") { #' + '<div class=\"k-edit-label\"><label>#:end.label#</label></div>' + '<div class=\"k-edit-field\">' + '<ul class=\"k-reset\">' + '<li>' + '<label><input class=\"k-recur-end-never\" type=\"radio\" name=\"end\" value=\"never\" />#:end.never#</label>' + '</li>' + '<li>' + '<label><input class=\"k-recur-end-count\" type=\"radio\" name=\"end\" value=\"count\" />#:end.after#</label>' + '<input class=\"k-recur-count\" />#:end.occurrence#' + '</li>' + '<li>' + '<label><input class=\"k-recur-end-until\" type=\"radio\" name=\"end\" value=\"until\" />#:end.on#</label>' + '<input class=\"k-recur-until\" />' + '</li>' + '</ul>' + '</div>' + '# } #');\n        var DAY_RULE = [\n            {\n                day: 0,\n                offset: 0\n            },\n            {\n                day: 1,\n                offset: 0\n            },\n            {\n                day: 2,\n                offset: 0\n            },\n            {\n                day: 3,\n                offset: 0\n            },\n            {\n                day: 4,\n                offset: 0\n            },\n            {\n                day: 5,\n                offset: 0\n            },\n            {\n                day: 6,\n                offset: 0\n            }\n        ];\n        var WEEKDAY_RULE = [\n            {\n                day: 1,\n                offset: 0\n            },\n            {\n                day: 2,\n                offset: 0\n            },\n            {\n                day: 3,\n                offset: 0\n            },\n            {\n                day: 4,\n                offset: 0\n            },\n            {\n                day: 5,\n                offset: 0\n            }\n        ];\n        var WEEKEND_RULE = [\n            {\n                day: 0,\n                offset: 0\n            },\n            {\n                day: 6,\n                offset: 0\n            }\n        ];\n        var BaseRecurrenceEditor = Widget.extend({\n            init: function (element, options) {\n                var start;\n                var that = this;\n                var frequencies = options && options.frequencies;\n                Widget.fn.init.call(that, element, options);\n                that.wrapper = that.element;\n                options = that.options;\n                options.start = start = options.start || kendoDate.today();\n                if (frequencies) {\n                    options.frequencies = frequencies;\n                }\n                if (typeof start === 'string') {\n                    options.start = kendo.parseDate(start, 'yyyyMMddTHHmmss');\n                }\n                if (options.firstWeekDay === null) {\n                    options.firstWeekDay = kendo.culture().calendar.firstDay;\n                }\n                that._namespace = '.' + options.name;\n            },\n            options: {\n                value: '',\n                start: '',\n                timezone: '',\n                spinners: true,\n                firstWeekDay: null,\n                frequencies: [\n                    'never',\n                    'daily',\n                    'weekly',\n                    'monthly',\n                    'yearly'\n                ],\n                mobile: false,\n                messages: {\n                    frequencies: {\n                        never: 'Never',\n                        hourly: 'Hourly',\n                        daily: 'Daily',\n                        weekly: 'Weekly',\n                        monthly: 'Monthly',\n                        yearly: 'Yearly'\n                    },\n                    hourly: {\n                        repeatEvery: 'Repeat every: ',\n                        interval: ' hour(s)'\n                    },\n                    daily: {\n                        repeatEvery: 'Repeat every: ',\n                        interval: ' day(s)'\n                    },\n                    weekly: {\n                        interval: ' week(s)',\n                        repeatEvery: 'Repeat every: ',\n                        repeatOn: 'Repeat on: '\n                    },\n                    monthly: {\n                        repeatEvery: 'Repeat every: ',\n                        repeatOn: 'Repeat on: ',\n                        interval: ' month(s)',\n                        day: 'Day '\n                    },\n                    yearly: {\n                        repeatEvery: 'Repeat every: ',\n                        repeatOn: 'Repeat on: ',\n                        interval: ' year(s)',\n                        of: ' of '\n                    },\n                    end: {\n                        label: 'End:',\n                        mobileLabel: 'Ends',\n                        never: 'Never',\n                        after: 'After ',\n                        occurrence: ' occurrence(s)',\n                        on: 'On '\n                    },\n                    offsetPositions: {\n                        first: 'first',\n                        second: 'second',\n                        third: 'third',\n                        fourth: 'fourth',\n                        last: 'last'\n                    },\n                    weekdays: {\n                        day: 'day',\n                        weekday: 'weekday',\n                        weekend: 'weekend day'\n                    }\n                }\n            },\n            events: ['change'],\n            _initInterval: function () {\n                var that = this;\n                var rule = that._value;\n                that._container.find('.k-recur-interval').kendoNumericTextBox({\n                    spinners: that.options.spinners,\n                    value: rule.interval || 1,\n                    decimals: 0,\n                    format: '#',\n                    min: 1,\n                    change: function () {\n                        rule.interval = this.value();\n                        that._trigger();\n                    }\n                });\n            },\n            _weekDayRule: function (clear) {\n                var that = this;\n                var weekday = (that._weekDay.element || that._weekDay).val();\n                var offset = Number((that._weekDayOffset.element || that._weekDayOffset).val());\n                var weekDays = null;\n                var positions = null;\n                if (!clear) {\n                    if (weekday === 'day') {\n                        weekDays = DAY_RULE;\n                        positions = offset;\n                    } else if (weekday === 'weekday') {\n                        weekDays = WEEKDAY_RULE;\n                        positions = offset;\n                    } else if (weekday === 'weekend') {\n                        weekDays = WEEKEND_RULE;\n                        positions = offset;\n                    } else {\n                        weekDays = [{\n                                offset: offset,\n                                day: Number(weekday)\n                            }];\n                    }\n                }\n                that._value.weekDays = weekDays;\n                that._value.positions = positions;\n            },\n            _weekDayView: function () {\n                var that = this;\n                var weekDays = that._value.weekDays;\n                var positions = that._value.positions;\n                var weekDayOffsetWidget = that._weekDayOffset;\n                var weekDayOffset;\n                var weekDayValue;\n                var length;\n                var method;\n                if (weekDays) {\n                    length = weekDays.length;\n                    if (positions) {\n                        if (length === 7) {\n                            weekDayValue = 'day';\n                            weekDayOffset = positions;\n                        } else if (length === 5) {\n                            weekDayValue = 'weekday';\n                            weekDayOffset = positions;\n                        } else if (length === 2) {\n                            weekDayValue = 'weekend';\n                            weekDayOffset = positions;\n                        }\n                    }\n                    if (!weekDayValue) {\n                        weekDays = weekDays[0];\n                        weekDayValue = weekDays.day;\n                        weekDayOffset = weekDays.offset || '';\n                    }\n                    method = weekDayOffsetWidget.value ? 'value' : 'val';\n                    weekDayOffsetWidget[method](weekDayOffset);\n                    that._weekDay[method](weekDayValue);\n                }\n            },\n            _initWeekDay: function () {\n                var that = this, data;\n                var weekdayMessage = that.options.messages.weekdays;\n                var offsetMessage = that.options.messages.offsetPositions;\n                var weekDayInput = that._container.find('.k-recur-weekday');\n                var change = function () {\n                    that._weekDayRule();\n                    that._trigger();\n                };\n                if (weekDayInput[0]) {\n                    that._weekDayOffset = new DropDownList(that._container.find('.k-recur-weekday-offset'), {\n                        change: change,\n                        dataTextField: 'text',\n                        dataValueField: 'value',\n                        dataSource: [\n                            {\n                                text: offsetMessage.first,\n                                value: '1'\n                            },\n                            {\n                                text: offsetMessage.second,\n                                value: '2'\n                            },\n                            {\n                                text: offsetMessage.third,\n                                value: '3'\n                            },\n                            {\n                                text: offsetMessage.fourth,\n                                value: '4'\n                            },\n                            {\n                                text: offsetMessage.last,\n                                value: '-1'\n                            }\n                        ]\n                    });\n                    data = [\n                        {\n                            text: weekdayMessage.day,\n                            value: 'day'\n                        },\n                        {\n                            text: weekdayMessage.weekday,\n                            value: 'weekday'\n                        },\n                        {\n                            text: weekdayMessage.weekend,\n                            value: 'weekend'\n                        }\n                    ];\n                    that._weekDay = new DropDownList(weekDayInput, {\n                        value: that.options.start.getDay(),\n                        change: change,\n                        dataTextField: 'text',\n                        dataValueField: 'value',\n                        dataSource: data.concat($.map(kendo.culture().calendar.days.names, function (dayName, idx) {\n                            return {\n                                text: dayName,\n                                value: idx\n                            };\n                        }))\n                    });\n                    that._weekDayView();\n                }\n            },\n            _initWeekDays: function () {\n                var that = this;\n                var rule = that._value;\n                var weekDays = that._container.find('.k-recur-weekday-checkbox');\n                if (weekDays[0]) {\n                    weekDays.on(CLICK + that._namespace, function () {\n                        rule.weekDays = $.map(weekDays.filter(':checked'), function (checkbox) {\n                            return {\n                                day: Number(checkbox.value),\n                                offset: 0\n                            };\n                        });\n                        if (!that.options.mobile) {\n                            that._trigger();\n                        }\n                    });\n                    if (rule.weekDays) {\n                        var idx, weekDay;\n                        var i = 0, l = weekDays.length;\n                        var length = rule.weekDays.length;\n                        for (; i < l; i++) {\n                            weekDay = weekDays[i];\n                            for (idx = 0; idx < length; idx++) {\n                                if (weekDay.value == rule.weekDays[idx].day) {\n                                    weekDay.checked = true;\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            _initMonthDay: function () {\n                var that = this;\n                var rule = that._value;\n                var monthDayInput = that._container.find('.k-recur-monthday');\n                if (monthDayInput[0]) {\n                    that._monthDay = new kendo.ui.NumericTextBox(monthDayInput, {\n                        spinners: that.options.spinners,\n                        min: 1,\n                        max: 31,\n                        decimals: 0,\n                        format: '#',\n                        value: rule.monthDays ? rule.monthDays[0] : that.options.start.getDate(),\n                        change: function () {\n                            var value = this.value();\n                            rule.monthDays = value ? [value] : value;\n                            that._trigger();\n                        }\n                    });\n                }\n            },\n            _initCount: function () {\n                var that = this, input = that._container.find('.k-recur-count'), rule = that._value;\n                that._count = input.kendoNumericTextBox({\n                    spinners: that.options.spinners,\n                    value: rule.count || 1,\n                    decimals: 0,\n                    format: '#',\n                    min: 1,\n                    change: function () {\n                        rule.count = this.value();\n                        that._trigger();\n                    }\n                }).data('kendoNumericTextBox');\n            },\n            _initUntil: function () {\n                var that = this, input = that._container.find('.k-recur-until'), start = that.options.start, rule = that._value, until = rule.until;\n                that._until = input.kendoDatePicker({\n                    min: until && until < start ? until : start,\n                    value: until || new Date(start.getFullYear(), start.getMonth(), start.getDate(), 23, 59, 59),\n                    change: function () {\n                        var date = this.value();\n                        rule.until = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59);\n                        that._trigger();\n                    }\n                }).data('kendoDatePicker');\n            },\n            _trigger: function () {\n                if (!this.options.mobile) {\n                    this.trigger('change');\n                }\n            }\n        });\n        var RecurrenceEditor = BaseRecurrenceEditor.extend({\n            init: function (element, options) {\n                var that = this;\n                BaseRecurrenceEditor.fn.init.call(that, element, options);\n                that._initFrequency();\n                that._initContainer();\n                that.value(that.options.value);\n            },\n            options: { name: 'RecurrenceEditor' },\n            events: ['change'],\n            destroy: function () {\n                var that = this;\n                that._frequency.destroy();\n                that._container.find('input[type=radio],input[type=checkbox]').off(CLICK + that._namespace);\n                kendo.destroy(that._container);\n                BaseRecurrenceEditor.fn.destroy.call(that);\n            },\n            value: function (value) {\n                var that = this;\n                var timezone = that.options.timezone;\n                var freq;\n                if (value === undefined) {\n                    if (!that._value.freq) {\n                        return '';\n                    }\n                    return serialize(that._value, timezone);\n                }\n                that._value = parseRule(value, timezone) || {};\n                freq = that._value.freq;\n                if (freq) {\n                    that._frequency.value(freq);\n                } else {\n                    that._frequency.select(0);\n                }\n                that._initView(that._frequency.value());\n            },\n            _initContainer: function () {\n                var element = this.element, container = $('<div class=\"k-recur-view\" />'), editContainer = element.parent('.k-edit-field');\n                if (editContainer[0]) {\n                    container.insertAfter(editContainer);\n                } else {\n                    element.append(container);\n                }\n                this._container = container;\n            },\n            _initFrequency: function () {\n                var that = this, options = that.options, frequencies = options.frequencies, messages = options.messages.frequencies, ddl = $('<input />'), frequency;\n                frequencies = $.map(frequencies, function (frequency) {\n                    return {\n                        text: messages[frequency],\n                        value: frequency\n                    };\n                });\n                frequency = frequencies[0];\n                if (frequency && frequency.value === 'never') {\n                    frequency.value = '';\n                }\n                that.element.append(ddl);\n                that._frequency = new DropDownList(ddl, {\n                    dataTextField: 'text',\n                    dataValueField: 'value',\n                    dataSource: frequencies,\n                    change: function () {\n                        that._value = {};\n                        that._initView(that._frequency.value());\n                        that.trigger('change');\n                    }\n                });\n            },\n            _initView: function (frequency) {\n                var that = this;\n                var rule = that._value;\n                var options = that.options;\n                var data = {\n                    frequency: frequency || 'never',\n                    weekDayCheckBoxes: weekDayCheckBoxes,\n                    firstWeekDay: options.firstWeekDay,\n                    messages: options.messages[frequency],\n                    end: options.messages.end\n                };\n                kendo.destroy(that._container);\n                that._container.html(RECURRENCE_VIEW_TEMPLATE(data));\n                if (!frequency) {\n                    that._value = {};\n                    return;\n                }\n                rule.freq = frequency;\n                if (frequency === 'weekly' && !rule.weekDays) {\n                    rule.weekDays = [{\n                            day: options.start.getDay(),\n                            offset: 0\n                        }];\n                }\n                that._initInterval();\n                that._initWeekDays();\n                that._initMonthDay();\n                that._initWeekDay();\n                that._initMonth();\n                that._initCount();\n                that._initUntil();\n                that._period();\n                that._end();\n            },\n            _initMonth: function () {\n                var that = this;\n                var rule = that._value;\n                var month = rule.months || [that.options.start.getMonth() + 1];\n                var monthInputs = that._container.find('.k-recur-month');\n                var options;\n                if (monthInputs[0]) {\n                    options = {\n                        change: function () {\n                            rule.months = [Number(this.value())];\n                            that.trigger('change');\n                        },\n                        dataTextField: 'text',\n                        dataValueField: 'value',\n                        dataSource: $.map(kendo.culture().calendar.months.names, function (monthName, idx) {\n                            return {\n                                text: monthName,\n                                value: idx + 1\n                            };\n                        })\n                    };\n                    that._month1 = new DropDownList(monthInputs[0], options);\n                    that._month2 = new DropDownList(monthInputs[1], options);\n                    if (month) {\n                        month = month[0];\n                        that._month1.value(month);\n                        that._month2.value(month);\n                    }\n                }\n            },\n            _end: function () {\n                var that = this;\n                var rule = that._value;\n                var container = that._container;\n                var namespace = that._namespace;\n                var click = function (e) {\n                    that._toggleEnd(e.currentTarget.value);\n                    that.trigger('change');\n                };\n                var endRule;\n                that._buttonNever = container.find('.k-recur-end-never').on(CLICK + namespace, click);\n                that._buttonCount = container.find('.k-recur-end-count').on(CLICK + namespace, click);\n                that._buttonUntil = container.find('.k-recur-end-until').on(CLICK + namespace, click);\n                if (rule.count) {\n                    endRule = 'count';\n                } else if (rule.until) {\n                    endRule = 'until';\n                }\n                that._toggleEnd(endRule);\n            },\n            _period: function () {\n                var that = this;\n                var rule = that._value;\n                var monthly = rule.freq === 'monthly';\n                var toggleRule = monthly ? that._toggleMonthDay : that._toggleYear;\n                var selector = '.k-recur-' + (monthly ? 'month' : 'year') + '-radio';\n                var radioButtons = that._container.find(selector);\n                if (!monthly && rule.freq !== 'yearly') {\n                    return;\n                }\n                radioButtons.on(CLICK + that._namespace, function (e) {\n                    toggleRule.call(that, e.currentTarget.value);\n                    that.trigger('change');\n                });\n                that._buttonMonthDay = radioButtons.eq(0);\n                that._buttonWeekDay = radioButtons.eq(1);\n                toggleRule.call(that, rule.weekDays ? 'weekday' : 'monthday');\n            },\n            _toggleEnd: function (endRule) {\n                var that = this;\n                var count, until;\n                var enableCount, enableUntil;\n                if (endRule === 'count') {\n                    that._buttonCount.prop('checked', true);\n                    enableCount = true;\n                    enableUntil = false;\n                    count = that._count.value();\n                    until = null;\n                } else if (endRule === 'until') {\n                    that._buttonUntil.prop('checked', true);\n                    enableCount = false;\n                    enableUntil = true;\n                    count = null;\n                    until = that._until.value();\n                } else {\n                    that._buttonNever.prop('checked', true);\n                    enableCount = enableUntil = false;\n                    count = until = null;\n                }\n                that._count.enable(enableCount);\n                that._until.enable(enableUntil);\n                that._value.count = count;\n                that._value.until = until;\n            },\n            _toggleMonthDay: function (monthRule) {\n                var that = this;\n                var enableMonthDay = false;\n                var enableWeekDay = true;\n                var clear = false;\n                var monthDays;\n                if (monthRule === 'monthday') {\n                    that._buttonMonthDay.prop('checked', true);\n                    monthDays = [that._monthDay.value()];\n                    enableMonthDay = true;\n                    enableWeekDay = false;\n                    clear = true;\n                } else {\n                    that._buttonWeekDay.prop('checked', true);\n                    monthDays = null;\n                }\n                that._weekDay.enable(enableWeekDay);\n                that._weekDayOffset.enable(enableWeekDay);\n                that._monthDay.enable(enableMonthDay);\n                that._value.monthDays = monthDays;\n                that._weekDayRule(clear);\n            },\n            _toggleYear: function (yearRule) {\n                var that = this;\n                var enableMonth1 = false;\n                var enableMonth2 = true;\n                var month;\n                if (yearRule === 'monthday') {\n                    enableMonth1 = true;\n                    enableMonth2 = false;\n                    month = that._month1.value();\n                } else {\n                    month = that._month2.value();\n                }\n                that._month1.enable(enableMonth1);\n                that._month2.enable(enableMonth2);\n                that._value.months = [month];\n                that._toggleMonthDay(yearRule);\n            }\n        });\n        ui.plugin(RecurrenceEditor);\n        var RECURRENCE_HEADER_TEMPLATE = kendo.template('<div class=\"k-edit-label\"><label>#:headerTitle#</label></div>' + '<div class=\"k-edit-field k-recur-pattern k-scheduler-toolbar\"></div>' + '<div class=\"k-recur-view\"></div>');\n        var RECURRENCE_REPEAT_PATTERN_TEMPLATE = kendo.template('# if (frequency !== \"never\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatEvery#</label></div>' + '<div class=\"k-edit-field\"><input class=\"k-recur-interval\" pattern=\"\\\\\\\\d*\"/>#:messages.interval#</div>' + '# } #' + '# if (frequency === \"weekly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatOn#</label></div>' + '<div class=\"k-edit-field\">#=weekDayCheckBoxes(firstWeekDay)#</div>' + '# } else if (frequency === \"monthly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatBy#</label></div>' + '<div class=\"k-edit-field k-scheduler-toolbar k-repeat-rule\"></div>' + '<div class=\"k-monthday-view\" style=\"display:none\">' + '<div class=\"k-edit-label\"><label>#:messages.day#</label></div>' + '<div class=\"k-edit-field\"><input class=\"k-recur-monthday\" pattern=\"\\\\\\\\d*\"/></div>' + '</div>' + '<div class=\"k-weekday-view\" style=\"display:none\">' + '<div class=\"k-edit-label\"><label>#:messages.every#</label></div>' + '<div class=\"k-edit-field\"><select class=\"k-recur-weekday-offset\"></select></div>' + '<div class=\"k-edit-label\"><label>#:messages.day#</label></div>' + '<div class=\"k-edit-field\"><select class=\"k-recur-weekday\"></select></div>' + '</div>' + '# } else if (frequency === \"yearly\") { #' + '<div class=\"k-edit-label\"><label>#:messages.repeatBy#</label></div>' + '<div class=\"k-edit-field k-scheduler-toolbar k-repeat-rule\"></div>' + '<div class=\"k-monthday-view\" style=\"display:none\">' + '<div class=\"k-edit-label\"><label>#:messages.day#</label></div>' + '<div class=\"k-edit-field\"><input class=\"k-recur-monthday\" pattern=\"\\\\\\\\d*\"/></div>' + '</div>' + '<div class=\"k-weekday-view\" style=\"display:none\">' + '<div class=\"k-edit-label\"><label>#:messages.every#</label></div>' + '<div class=\"k-edit-field\"><select class=\"k-recur-weekday-offset\"></select></div>' + '<div class=\"k-edit-label\"><label>#:messages.day#</label></div>' + '<div class=\"k-edit-field\"><select class=\"k-recur-weekday\"></select></div>' + '</div>' + '<div class=\"k-edit-label\"><label>#:messages.month#</label></div>' + '<div class=\"k-edit-field\"><select class=\"k-recur-month\"></select></div>' + '# } #');\n        var RECURRENCE_END_PATTERN_TEMPLATE = kendo.template('# if (endPattern === \"count\") { #' + '<div class=\"k-edit-label\"><label>#:messages.after#</label></div>' + '<div class=\"k-edit-field\"><input class=\"k-recur-count\" pattern=\"\\\\\\\\d*\" /></div>' + '# } else if (endPattern === \"until\") { #' + '<div class=\"k-edit-label\"><label>#:messages.on#</label></div>' + '<div class=\"k-edit-field\"><input type=\"date\" class=\"k-recur-until\" /></div>' + '# } #');\n        var RECURRENCE_GROUP_BUTTON_TEMPLATE = kendo.template('<ul class=\"k-reset k-header k-scheduler-navigation\">' + '#for (var i = 0, length = dataSource.length; i < length; i++) {#' + '<li class=\"k-state-default #= value === dataSource[i].value ? \"k-state-selected\" : \"\" #\">' + '<a role=\"button\" href=\"\\\\#\" class=\"k-link\" data-#=ns#value=\"#=dataSource[i].value#\">#:dataSource[i].text#</a>' + '</li>' + '#}#' + '</ul>');\n        var MobileRecurrenceEditor = BaseRecurrenceEditor.extend({\n            init: function (element, options) {\n                var that = this;\n                BaseRecurrenceEditor.fn.init.call(that, element, options);\n                options = that.options;\n                that._optionTemplate = kendo.template('<option value=\"#:value#\">#:text#</option>');\n                that.value(options.value);\n                that._pane = options.pane;\n                that._initRepeatButton();\n                that._initRepeatEnd();\n                that._defaultValue = that._value;\n            },\n            options: {\n                name: 'MobileRecurrenceEditor',\n                animations: {\n                    left: 'slide',\n                    right: 'slide:right'\n                },\n                mobile: true,\n                messages: {\n                    cancel: 'Cancel',\n                    update: 'Save',\n                    endTitle: 'Repeat ends',\n                    repeatTitle: 'Repeat pattern',\n                    headerTitle: 'Repeat event',\n                    end: {\n                        patterns: {\n                            never: 'Never',\n                            after: 'After...',\n                            on: 'On...'\n                        },\n                        never: 'Never',\n                        after: 'End repeat after',\n                        on: 'End repeat on'\n                    },\n                    daily: { interval: '' },\n                    hourly: { interval: '' },\n                    weekly: { interval: '' },\n                    monthly: {\n                        interval: '',\n                        repeatBy: 'Repeat by: ',\n                        dayOfMonth: 'Day of the month',\n                        dayOfWeek: 'Day of the week',\n                        repeatEvery: 'Repeat every',\n                        every: 'Every',\n                        day: 'Day '\n                    },\n                    yearly: {\n                        interval: '',\n                        repeatBy: 'Repeat by: ',\n                        dayOfMonth: 'Day of the month',\n                        dayOfWeek: 'Day of the week',\n                        repeatEvery: 'Repeat every: ',\n                        every: 'Every',\n                        month: 'Month',\n                        day: 'Day'\n                    }\n                }\n            },\n            events: ['change'],\n            value: function (value) {\n                var that = this;\n                var timezone = that.options.timezone;\n                if (value === undefined) {\n                    if (!that._value.freq) {\n                        return '';\n                    }\n                    return serialize(that._value, timezone);\n                }\n                that._value = parseRule(value, timezone) || {};\n            },\n            destroy: function () {\n                this._destroyView();\n                kendo.destroy(this._endFields);\n                this._repeatButton.off(CLICK + this._namespace);\n                BaseRecurrenceEditor.fn.destroy.call(this);\n            },\n            _initRepeatButton: function () {\n                var that = this;\n                var freq = that.options.messages.frequencies[this._value.freq || 'never'];\n                that._repeatButton = $('<a href=\"#\" class=\"k-button k-scheduler-recur\">' + freq + '</a>').on(CLICK + that._namespace, function (e) {\n                    e.preventDefault();\n                    that._createView('repeat');\n                    that._pane.navigate('recurrence', that.options.animations.left);\n                });\n                that.element.append(that._repeatButton);\n            },\n            _initRepeatEnd: function () {\n                var that = this;\n                var endLabelField = $('<div class=\"k-edit-label\"><label>' + that.options.messages.end.mobileLabel + '</label></div>').insertAfter(that.element.parent('.k-edit-field'));\n                var endEditField = $('<div class=\"k-edit-field\"><a href=\"#\" class=\"k-button k-scheduler-recur-end\"></a></div>').on(CLICK + that._namespace, function (e) {\n                    e.preventDefault();\n                    if (!that._value.freq) {\n                        return;\n                    }\n                    that._createView('end');\n                    that._pane.navigate('recurrence', that.options.animations.left);\n                }).insertAfter(endLabelField);\n                that._endFields = endLabelField.add(endEditField).toggleClass('k-state-disabled', !that._value.freq);\n                that._endButton = endEditField.find('.k-scheduler-recur-end').text(that._endText());\n            },\n            _endText: function () {\n                var rule = this._value;\n                var messages = this.options.messages.end;\n                var text = messages.never;\n                if (rule.count) {\n                    text = kendo.format('{0} {1}', messages.after, rule.count);\n                } else if (rule.until) {\n                    text = kendo.format('{0} {1:d}', messages.on, rule.until);\n                }\n                return text;\n            },\n            _initFrequency: function () {\n                var that = this;\n                var frequencyMessages = that.options.messages.frequencies;\n                var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                    dataSource: $.map(this.options.frequencies, function (frequency) {\n                        return {\n                            text: frequencyMessages[frequency],\n                            value: frequency !== 'never' ? frequency : ''\n                        };\n                    }),\n                    value: that._value.freq || '',\n                    ns: kendo.ns\n                });\n                that._view.element.find('.k-recur-pattern').append(html).on(CLICK + that._namespace, '.k-scheduler-navigation li', function (e) {\n                    var li = $(this);\n                    e.preventDefault();\n                    li.addClass('k-state-selected').siblings().removeClass('k-state-selected');\n                    that._value = { freq: li.children('a').attr(kendo.attr('value')) };\n                    that._initRepeatView();\n                });\n            },\n            _initEndNavigation: function () {\n                var that = this;\n                var endMessages = that.options.messages.end.patterns;\n                var rule = that._value;\n                var value = '';\n                if (rule.count) {\n                    value = 'count';\n                } else if (rule.until) {\n                    value = 'until';\n                }\n                var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                    dataSource: [\n                        {\n                            text: endMessages.never,\n                            value: ''\n                        },\n                        {\n                            text: endMessages.after,\n                            value: 'count'\n                        },\n                        {\n                            text: endMessages.on,\n                            value: 'until'\n                        }\n                    ],\n                    value: value,\n                    ns: kendo.ns\n                });\n                that._view.element.find('.k-recur-pattern').append(html).on(CLICK + that._namespace, '.k-scheduler-navigation li', function (e) {\n                    var li = $(this);\n                    var count = null;\n                    var until = null;\n                    e.preventDefault();\n                    li.addClass('k-state-selected').siblings().removeClass('k-state-selected');\n                    that._initEndView(li.children('a').attr(kendo.attr('value')));\n                    if (that._count) {\n                        count = that._count.value();\n                        until = null;\n                    } else if (that._until) {\n                        count = null;\n                        until = that._until.val ? kendo.parseDate(that._until.val(), 'yyyy-MM-dd') : that._until.value();\n                    }\n                    rule.count = count;\n                    rule.until = until;\n                });\n            },\n            _createView: function (viewType) {\n                var that = this;\n                var options = that.options;\n                var messages = options.messages;\n                var headerTitle = messages[viewType === 'repeat' ? 'repeatTitle' : 'endTitle'];\n                var html = '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form k-mobile-list\" id=\"recurrence\">' + '<div data-role=\"header\" class=\"k-header\">' + '<a href=\"#\" class=\"k-button k-scheduler-cancel\">' + messages.cancel + '</a>' + messages.headerTitle + '<a href=\"#\" class=\"k-button k-scheduler-update\">' + messages.update + '</a>' + '</div>';\n                var returnViewId = that._pane.view().id;\n                that._view = that._pane.append(html + RECURRENCE_HEADER_TEMPLATE({ headerTitle: headerTitle }));\n                that._view.element.on(CLICK + that._namespace, 'a.k-scheduler-cancel, a.k-scheduler-update', function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if ($(this).hasClass('k-scheduler-update')) {\n                        that.trigger('change');\n                        that._defaultValue = $.extend({}, that._value);\n                    } else {\n                        that._value = that._defaultValue;\n                    }\n                    var frequency = that._value.freq;\n                    that._endButton.text(that._endText());\n                    that._endFields.toggleClass('k-state-disabled', !frequency);\n                    that._repeatButton.text(messages.frequencies[frequency || 'never']);\n                    that._pane.one('viewShow', function () {\n                        that._destroyView();\n                    });\n                    that._pane.navigate(returnViewId, that.options.animations.right);\n                });\n                that._container = that._view.element.find('.k-recur-view');\n                if (viewType === 'repeat') {\n                    that._initFrequency();\n                    that._initRepeatView();\n                } else {\n                    that._initEndNavigation();\n                    that._initEndView();\n                }\n            },\n            _destroyView: function () {\n                if (this._view) {\n                    this._view.destroy();\n                    this._view.element.remove();\n                }\n                this._view = null;\n            },\n            _initRepeatView: function () {\n                var that = this;\n                var frequency = that._value.freq || 'never';\n                var data = {\n                    frequency: frequency,\n                    weekDayCheckBoxes: weekDayCheckBoxes,\n                    firstWeekDay: that.options.firstWeekDay,\n                    messages: that.options.messages[frequency]\n                };\n                var html = RECURRENCE_REPEAT_PATTERN_TEMPLATE(data);\n                var container = that._container;\n                var rule = that._value;\n                kendo.destroy(container);\n                container.html(html);\n                if (!html) {\n                    that._value = {};\n                    return;\n                }\n                if (frequency === 'weekly' && !rule.weekDays) {\n                    rule.weekDays = [{\n                            day: that.options.start.getDay(),\n                            offset: 0\n                        }];\n                }\n                that._initInterval();\n                that._initMonthDay();\n                that._initWeekDays();\n                that._initWeekDay();\n                that._initMonth();\n                that._period();\n            },\n            _initEndView: function (endPattern) {\n                var that = this;\n                var rule = that._value;\n                if (endPattern === undefined) {\n                    if (rule.count) {\n                        endPattern = 'count';\n                    } else if (rule.until) {\n                        endPattern = 'until';\n                    }\n                }\n                var data = {\n                    endPattern: endPattern,\n                    messages: that.options.messages.end\n                };\n                kendo.destroy(that._container);\n                that._container.html(RECURRENCE_END_PATTERN_TEMPLATE(data));\n                that._initCount();\n                that._initUntil();\n            },\n            _initWeekDay: function () {\n                var that = this, data;\n                var weekdayMessage = that.options.messages.weekdays;\n                var offsetMessage = that.options.messages.offsetPositions;\n                var weekDaySelect = that._container.find('.k-recur-weekday');\n                var change = function () {\n                    that._weekDayRule();\n                    that.trigger('change');\n                };\n                if (weekDaySelect[0]) {\n                    that._weekDayOffset = that._container.find('.k-recur-weekday-offset').html(that._options([\n                        {\n                            text: offsetMessage.first,\n                            value: '1'\n                        },\n                        {\n                            text: offsetMessage.second,\n                            value: '2'\n                        },\n                        {\n                            text: offsetMessage.third,\n                            value: '3'\n                        },\n                        {\n                            text: offsetMessage.fourth,\n                            value: '4'\n                        },\n                        {\n                            text: offsetMessage.last,\n                            value: '-1'\n                        }\n                    ])).change(change);\n                    data = [\n                        {\n                            text: weekdayMessage.day,\n                            value: 'day'\n                        },\n                        {\n                            text: weekdayMessage.weekday,\n                            value: 'weekday'\n                        },\n                        {\n                            text: weekdayMessage.weekend,\n                            value: 'weekend'\n                        }\n                    ];\n                    data = data.concat($.map(kendo.culture().calendar.days.names, function (dayName, idx) {\n                        return {\n                            text: dayName,\n                            value: idx\n                        };\n                    }));\n                    that._weekDay = weekDaySelect.html(that._options(data)).change(change).val(that.options.start.getDay());\n                    that._weekDayView();\n                }\n            },\n            _initMonth: function () {\n                var that = this;\n                var rule = that._value;\n                var start = that.options.start;\n                var month = rule.months || [start.getMonth() + 1];\n                var monthSelect = that._container.find('.k-recur-month');\n                var monthNames = kendo.culture().calendar.months.names;\n                if (monthSelect[0]) {\n                    var data = $.map(monthNames, function (monthName, idx) {\n                        return {\n                            text: monthName,\n                            value: idx + 1\n                        };\n                    });\n                    monthSelect.html(that._options(data)).change(function () {\n                        rule.months = [Number(this.value)];\n                    });\n                    that._monthSelect = monthSelect;\n                    if (month) {\n                        monthSelect.val(month[0]);\n                    }\n                }\n            },\n            _period: function () {\n                var that = this;\n                var rule = that._value;\n                var container = that._container;\n                var messages = that.options.messages[rule.freq];\n                var repeatRuleGroupButton = container.find('.k-repeat-rule');\n                var weekDayView = container.find('.k-weekday-view');\n                var monthDayView = container.find('.k-monthday-view');\n                if (repeatRuleGroupButton[0]) {\n                    var currentValue = rule.weekDays ? 'weekday' : 'monthday';\n                    var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                        value: currentValue,\n                        dataSource: [\n                            {\n                                text: messages.dayOfMonth,\n                                value: 'monthday'\n                            },\n                            {\n                                text: messages.dayOfWeek,\n                                value: 'weekday'\n                            }\n                        ],\n                        ns: kendo.ns\n                    });\n                    var init = function (val) {\n                        var weekDayName = that._weekDay.val();\n                        var weekDayOffset = that._weekDayOffset.val();\n                        var monthDay = that._monthDay.value();\n                        var month = that._monthSelect ? that._monthSelect.val() : null;\n                        if (val === 'monthday') {\n                            rule.weekDays = null;\n                            rule.monthDays = monthDay ? [monthDay] : monthDay;\n                            rule.months = month ? [Number(month)] : month;\n                            weekDayView.hide();\n                            monthDayView.show();\n                        } else {\n                            rule.monthDays = null;\n                            rule.months = month ? [Number(month)] : month;\n                            rule.weekDays = [{\n                                    offset: Number(weekDayOffset),\n                                    day: Number(weekDayName)\n                                }];\n                            weekDayView.show();\n                            monthDayView.hide();\n                        }\n                    };\n                    repeatRuleGroupButton.append(html).on(CLICK + that._namespace, '.k-scheduler-navigation li', function (e) {\n                        var li = $(this).addClass('k-state-selected');\n                        e.preventDefault();\n                        li.siblings().removeClass('k-state-selected');\n                        var value = li.children('a').attr(kendo.attr('value'));\n                        init(value);\n                    });\n                    init(currentValue);\n                }\n            },\n            _initUntil: function () {\n                var that = this;\n                var input = that._container.find('.k-recur-until');\n                var start = that.options.start;\n                var rule = that._value;\n                var until = rule.until;\n                var min = until && until < start ? until : start;\n                if (kendo.support.input.date) {\n                    that._until = input.attr('min', kendo.toString(min, 'yyyy-MM-dd')).val(kendo.toString(until || start, 'yyyy-MM-dd')).on('change', function () {\n                        rule.until = kendo.parseDate(this.value, 'yyyy-MM-dd');\n                    });\n                } else {\n                    that._until = input.kendoDatePicker({\n                        min: min,\n                        value: until || start,\n                        change: function () {\n                            rule.until = this.value();\n                        }\n                    }).data('kendoDatePicker');\n                }\n            },\n            _options: function (data, optionLabel) {\n                var idx = 0;\n                var html = '';\n                var length = data.length;\n                var template = this._optionTemplate;\n                if (optionLabel) {\n                    html += template({\n                        value: '',\n                        text: optionLabel\n                    });\n                }\n                for (; idx < length; idx++) {\n                    html += template(data[idx]);\n                }\n                return html;\n            }\n        });\n        ui.plugin(MobileRecurrenceEditor);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}