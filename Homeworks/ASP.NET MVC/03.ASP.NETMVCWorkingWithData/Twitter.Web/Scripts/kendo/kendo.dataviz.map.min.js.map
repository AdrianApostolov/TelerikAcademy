{"version":3,"sources":["kendo.dataviz.map.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals",1,10,100,2,20,200,3,30,300,4,40,400,5,50,500,6,60,600,7,70,700,8,80,800,9,90,900,1000,"values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","Math","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","$","measureText","style","measureBox","TextMetrics","current","measure","doc","document","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","baselineMarker","styleKey","cacheKey","cachedResult","width","height","baseline","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","e","geometryChange","suspend","resume","_observerField","field","mixins","Extent","abs","atan","atan2","cos","sin","tan","Location","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","toArray","equals","loc","clone","wrap","distanceTo","dest","datum","greatCircleTo","distance","destination","bearing","fromLat","fromLng","dToR","datums","WGS84","a","asin","b","L","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","prevLambda","converged","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","sinA","C","u2","A","B","deltao","azimuthFrom","azimuthTo","sqrt","fn","toString","format","fromLngLat","ll","fromLatLng","nw","se","contains","center","containsAny","locs","include","includeAll","edges","ne","sw","overlaps","extent","World","Widget","ui","Attribution","call","items","addClass","separator","itemTemplate","filter","zoom","_extent","_zoom","_render","add","item","remove","clear","empty","_itemText","show","hide","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","area","plugin","button","dir","keys","proxy","NS","BUTTONS","Navigator","on","parentElement","parent","closest","attr","_keyroot","_tabindex","_keydown","panStep","events","dispose","off","_pan","y","_click","currentTarget","is","preventDefault","which","UP","DOWN","RIGHT","LEFT","symbol","PLUS","MINUS","FF_PLUS","FF_MINUS","ZoomControl","zoomStep","_change","delta","NUMPAD_PLUS","NUMPAD_MINUS","exp","log","g","geometry","Point","limit","PI_DIV_2","PI_DIV_4","Mercator","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","centralMeridian","forward","clamp","proj","lng0","_projectLat","ecc","ts","con","inverse","point","_inverseY","dphi","ecch","phi","SphericalMercator","Equirectangular","EPSG3857","crs","_proj","_tm","transform","translate","scale","_itm","toPoint","toLocation","EPSG3395","EPSG4326","projections","Layer","css","zIndex","opacity","appendTo","scrollElement","_beforeReset","_reset","_resize","_panEnd","_activate","_updateAttribution","destroy","_deactivate","reset","_applyExtent","_setVisibility","noop","matchMinZoom","matchMaxZoom","inside","visible","bind","unbind","attribution","layers","DataSource","data","Group","ShapeLayer","surface","Surface","_initRoot","movable","Movable","_markers","_handler","_mouseenter","_mouseleave","_initDataSource","autoBind","dataSource","_dataChange","setDataSource","fetch","_translateSurface","_data","_load","_root","draw","dsOptions","sender","view","container","shape","_clearMarkers","_loader","GeoJSONLoader","parse","shapeCreated","args","cancelled","Circle","_createMarker","layer","marker","markers","location","dataItem","locationToView","moveTo","originalEvent","locator","defaultStyle","root","type","_loadGeometryTo","children","_shapeCreated","path","coords","coordinates","_loadPolygon","_setLineFill","_loadPoint","segments","anchor","fill","_loadShape","rings","_buildPolygon","j","MultiPath","Path","lineTo","circle","schemas","geojson","features","geometries","transports","read","dataType","getter","BubbleLayer","locationField","valueField","minSize","maxSize","opt","getValue","scaleType","slice","_scaleType","_createSymbol","_drawSymbol","isFunction","scales","symbols","SqrtScale","domain","range","domainRange","outputRange","_domain","_range","_ratio","rel","Symbols","geo","square","halfSize","close","bubble","roundPoint","TileLayer","subdomains","viewType","_viewType","_view","origin","locationToLayer","viewOrigin","_updateView","TileView","support","mobileOS","throttle","extentToPoint","render","pool","TilePool","tileSize","urlTemplate","_center","_viewOrigin","pointToTileIndex","floor","tileCount","firstTileIndex","indexToPoint","ceil","diff","subdomainText","subdomainIndex","tile","createTile","currentIndex","tileOptions","wrapIndex","offset","subdomain","errorUrlTemplate","boundary","wrapValue","remainder","ImageTile","createElement","error","errorUrl","target","setAttribute","removeAttribute","url","top","left","visibility","urlResult","urlOptions","z","s","quadkey","q","culture","_items","_remove","_create","dist","maxDist","BingLayer","_onMetadata","_fetchMetadata","baseUrl","imagerySet","Error","ajax","uriScheme","_scheme","protocol","jsonp","success","proto","replace","resource","resourceSets","resources","imageUrl","imageUrlSubdomains","zoomMin","zoomMax","_addAttribution","BingView","imageryProviders","coverageAreas","bbox","tileQuadKey","digit","mask","quadKey","bing","indexOf","Tooltip","MarkerLayer","_markerClick","titleField","arg","isArray","_addOne","update","showAt","Marker","addTo","getLocation","getTitle","title","tooltip","popup","_position","attributes","renderTooltip","contentTemplate","content","contentUrl","defaults","CSS_PREFIX","FRICTION","FRICTION_MOBILE","MOUSEWHEEL","VELOCITY_MULTIPLIER","Map","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","_mousewheel","controls","navigator","layerDefaults","stroke","position","markerDefaults","wraparound","scroller","zoomControl","level","_setExtent","_getExtent","setOptions","_layerSize","layerToLocation","translateWith","viewToLocation","eventOffset","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","exportVisual","_setOrigin","topLeft","_origin","invalidate","layerWidth","layerHeight","bottomRight","_zoomAround","pivot","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPos","posSelector","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","one","_scrollEnd","scrollTo","_zoomControlChange","friction","zoomable","mobile","Scroller","velocityMultiplier","mousewheelScrolling","_scroll","userEvents","_scaleStart","_scale","impl","defs","_scrollOffset","_panComplete","_panEndTS","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","centerPoint","originPoint","scaleDelta","tiles","_resetScroller","xBounds","yBounds","dimensions","forcedMinScale","maxScale","pannable","makeVirtual","virtualSize","_renderLayers","scrollWrap","fromZoom","toZoom","postZoom","mwDelta"],"mappings":"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","file":"kendo.dataviz.map.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                if (id in cache) {\n                    return cache[id];\n                }\n                return f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = {\n                    width: 0,\n                    height: 0,\n                    baseline: 0\n                };\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function (e) {\n                this.trigger('geometryChange', e);\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/location', ['kendo.drawing'], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, abs = math.abs, atan = math.atan, atan2 = math.atan2, cos = math.cos, max = math.max, min = math.min, sin = math.sin, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, deg = util.deg, rad = util.rad, round = util.round, sqr = util.sqr, valueOrDefault = util.valueOrDefault;\n        var Location = Class.extend({\n            init: function (lat, lng) {\n                if (arguments.length === 1) {\n                    this.lat = lat[0];\n                    this.lng = lat[1];\n                } else {\n                    this.lat = lat;\n                    this.lng = lng;\n                }\n            },\n            DISTANCE_ITERATIONS: 100,\n            DISTANCE_CONVERGENCE: 1e-12,\n            DISTANCE_PRECISION: 2,\n            FORMAT: '{0:N6},{1:N6}',\n            toArray: function () {\n                return [\n                    this.lat,\n                    this.lng\n                ];\n            },\n            equals: function (loc) {\n                return loc && loc.lat === this.lat && loc.lng === this.lng;\n            },\n            clone: function () {\n                return new Location(this.lat, this.lng);\n            },\n            round: function (precision) {\n                this.lng = round(this.lng, precision);\n                this.lat = round(this.lat, precision);\n                return this;\n            },\n            wrap: function () {\n                this.lng = this.lng % 180;\n                this.lat = this.lat % 90;\n                return this;\n            },\n            distanceTo: function (dest, datum) {\n                return this.greatCircleTo(dest, datum).distance;\n            },\n            destination: function (distance, bearing, datum) {\n                bearing = rad(bearing);\n                datum = datum || dataviz.map.datums.WGS84;\n                var fromLat = rad(this.lat);\n                var fromLng = rad(this.lng);\n                var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\n                var lat = math.asin(sin(fromLat) * cos(dToR) + cos(fromLat) * sin(dToR) * cos(bearing));\n                var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat), cos(dToR) - sin(fromLat) * sin(lat));\n                return new Location(deg(lat), deg(lng));\n            },\n            greatCircleTo: function (dest, datum) {\n                dest = Location.create(dest);\n                datum = datum || dataviz.map.datums.WGS84;\n                if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n                    return {\n                        distance: 0,\n                        azimuthFrom: 0,\n                        azimuthTo: 0\n                    };\n                }\n                var a = datum.a;\n                var b = datum.b;\n                var f = datum.f;\n                var L = rad(dest.lng - this.lng);\n                var U1 = atan((1 - f) * tan(rad(this.lat)));\n                var sinU1 = sin(U1);\n                var cosU1 = cos(U1);\n                var U2 = atan((1 - f) * tan(rad(dest.lat)));\n                var sinU2 = sin(U2);\n                var cosU2 = cos(U2);\n                var lambda = L;\n                var prevLambda;\n                var i = this.DISTANCE_ITERATIONS;\n                var converged = false;\n                var sinLambda;\n                var cosLambda;\n                var sino;\n                var cosA2;\n                var coso;\n                var cos2om;\n                var sigma;\n                while (!converged && i-- > 0) {\n                    sinLambda = sin(lambda);\n                    cosLambda = cos(lambda);\n                    sino = math.sqrt(sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n                    coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n                    sigma = atan2(sino, coso);\n                    var sinA = cosU1 * cosU2 * sinLambda / sino;\n                    cosA2 = 1 - sqr(sinA);\n                    cos2om = 0;\n                    if (cosA2 !== 0) {\n                        cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n                    }\n                    prevLambda = lambda;\n                    var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n                    lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om))));\n                    converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\n                }\n                var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\n                var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n                var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n                var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))));\n                var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n                var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n                return {\n                    distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n                    azimuthFrom: deg(azimuthFrom),\n                    azimuthTo: deg(azimuthTo)\n                };\n            }\n        });\n        Location.fn.toString = function () {\n            return kendo.format(this.FORMAT, this.lat, this.lng);\n        };\n        Location.fromLngLat = function (ll) {\n            return new Location(ll[1], ll[0]);\n        };\n        Location.fromLatLng = function (ll) {\n            return new Location(ll[0], ll[1]);\n        };\n        Location.create = function (a, b) {\n            if (defined(a)) {\n                if (a instanceof Location) {\n                    return a.clone();\n                } else if (arguments.length === 1 && a.length === 2) {\n                    return Location.fromLatLng(a);\n                } else {\n                    return new Location(a, b);\n                }\n            }\n        };\n        var Extent = Class.extend({\n            init: function (nw, se) {\n                nw = Location.create(nw);\n                se = Location.create(se);\n                if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {\n                    this.se = nw;\n                    this.nw = se;\n                } else {\n                    this.se = se;\n                    this.nw = nw;\n                }\n            },\n            contains: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                return loc && lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 && lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;\n            },\n            center: function () {\n                var nw = this.nw;\n                var se = this.se;\n                var lng = nw.lng + (se.lng - nw.lng) / 2;\n                var lat = nw.lat + (se.lat - nw.lat) / 2;\n                return new Location(lat, lng);\n            },\n            containsAny: function (locs) {\n                var result = false;\n                for (var i = 0; i < locs.length; i++) {\n                    result = result || this.contains(locs[i]);\n                }\n                return result;\n            },\n            include: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                nw.lng = min(nw.lng, lng);\n                nw.lat = max(nw.lat, lat);\n                se.lng = max(se.lng, lng);\n                se.lat = min(se.lat, lat);\n            },\n            includeAll: function (locs) {\n                for (var i = 0; i < locs.length; i++) {\n                    this.include(locs[i]);\n                }\n            },\n            edges: function () {\n                var nw = this.nw, se = this.se;\n                return {\n                    nw: this.nw,\n                    ne: new Location(nw.lat, se.lng),\n                    se: this.se,\n                    sw: new Location(se.lat, nw.lng)\n                };\n            },\n            toArray: function () {\n                var nw = this.nw, se = this.se;\n                return [\n                    nw,\n                    new Location(nw.lat, se.lng),\n                    se,\n                    new Location(se.lat, nw.lng)\n                ];\n            },\n            overlaps: function (extent) {\n                return this.containsAny(extent.toArray()) || extent.containsAny(this.toArray());\n            }\n        });\n        Extent.World = new Extent([\n            90,\n            -180\n        ], [\n            -90,\n            180\n        ]);\n        Extent.create = function (a, b) {\n            if (a instanceof Extent) {\n                return a;\n            } else if (a && b) {\n                return new Extent(a, b);\n            } else if (a && a.length === 4 && !b) {\n                return new Extent([\n                    a[0],\n                    a[1]\n                ], [\n                    a[2],\n                    a[3]\n                ]);\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                Extent: Extent,\n                Location: Location\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/attribution', ['kendo.drawing'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, Widget = kendo.ui.Widget, template = kendo.template, valueOrDefault = kendo.util.valueOrDefault, defined = kendo.util.defined;\n        var Attribution = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.items = [];\n                this.element.addClass('k-widget k-attribution');\n            },\n            options: {\n                name: 'Attribution',\n                separator: '&nbsp;|&nbsp;',\n                itemTemplate: '#= text #'\n            },\n            filter: function (extent, zoom) {\n                this._extent = extent;\n                this._zoom = zoom;\n                this._render();\n            },\n            add: function (item) {\n                if (defined(item)) {\n                    if (typeof item === 'string') {\n                        item = { text: item };\n                    }\n                    this.items.push(item);\n                    this._render();\n                }\n            },\n            remove: function (text) {\n                var result = [];\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    if (item.text !== text) {\n                        result.push(item);\n                    }\n                }\n                this.items = result;\n                this._render();\n            },\n            clear: function () {\n                this.items = [];\n                this.element.empty();\n            },\n            _render: function () {\n                var result = [];\n                var itemTemplate = template(this.options.itemTemplate);\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    var text = this._itemText(item);\n                    if (text !== '') {\n                        result.push(itemTemplate({ text: text }));\n                    }\n                }\n                if (result.length > 0) {\n                    this.element.empty().append(result.join(this.options.separator)).show();\n                } else {\n                    this.element.hide();\n                }\n            },\n            _itemText: function (item) {\n                var text = '';\n                var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n                var inArea = this._inArea(item.extent);\n                if (inZoomLevel && inArea) {\n                    text += item.text;\n                }\n                return text;\n            },\n            _inZoomLevel: function (min, max) {\n                var result = true;\n                min = valueOrDefault(min, -Number.MAX_VALUE);\n                max = valueOrDefault(max, Number.MAX_VALUE);\n                result = this._zoom > min && this._zoom < max;\n                return result;\n            },\n            _inArea: function (area) {\n                var result = true;\n                if (area) {\n                    result = area.contains(this._extent);\n                }\n                return result;\n            }\n        });\n        kendo.dataviz.ui.plugin(Attribution);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/navigator', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        var NS = '.kendoNavigator';\n        function button(dir) {\n            return kendo.format('<button class=\"k-button k-navigator-{0}\">' + '<span class=\"k-icon k-i-arrow-{0}\"/>' + '</button>', dir);\n        }\n        var BUTTONS = button('n') + button('e') + button('s') + button('w');\n        var Navigator = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-header k-shadow k-navigator').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'Navigator',\n                panStep: 1\n            },\n            events: ['pan'],\n            dispose: function () {\n                this._keyroot.off('keydown', this._keydown);\n            },\n            _pan: function (x, y) {\n                var panStep = this.options.panStep;\n                this.trigger('pan', {\n                    x: x * panStep,\n                    y: y * panStep\n                });\n            },\n            _click: function (e) {\n                var x = 0;\n                var y = 0;\n                var button = $(e.currentTarget);\n                if (button.is('.k-navigator-n')) {\n                    y = 1;\n                } else if (button.is('.k-navigator-s')) {\n                    y = -1;\n                } else if (button.is('.k-navigator-e')) {\n                    x = 1;\n                } else if (button.is('.k-navigator-w')) {\n                    x = -1;\n                }\n                this._pan(x, y);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.UP:\n                    this._pan(0, 1);\n                    e.preventDefault();\n                    break;\n                case keys.DOWN:\n                    this._pan(0, -1);\n                    e.preventDefault();\n                    break;\n                case keys.RIGHT:\n                    this._pan(1, 0);\n                    e.preventDefault();\n                    break;\n                case keys.LEFT:\n                    this._pan(-1, 0);\n                    e.preventDefault();\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(Navigator);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/zoom', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        function button(dir, symbol) {\n            return kendo.format('<button class=\"k-button k-zoom-{0}\" title=\"zoom-{0}\">{1}</button>', dir, symbol);\n        }\n        var NS = '.kendoZoomControl';\n        var BUTTONS = button('in', '+') + button('out', '-');\n        var PLUS = 187;\n        var MINUS = 189;\n        var FF_PLUS = 61;\n        var FF_MINUS = 173;\n        var ZoomControl = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-zoom-control k-button-wrap k-buttons-horizontal').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'ZoomControl',\n                zoomStep: 1\n            },\n            events: ['change'],\n            _change: function (dir) {\n                var zoomStep = this.options.zoomStep;\n                this.trigger('change', { delta: dir * zoomStep });\n            },\n            _click: function (e) {\n                var button = $(e.currentTarget);\n                var dir = 1;\n                if (button.is('.k-zoom-out')) {\n                    dir = -1;\n                }\n                this._change(dir);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.NUMPAD_PLUS:\n                case PLUS:\n                case FF_PLUS:\n                    this._change(1);\n                    break;\n                case keys.NUMPAD_MINUS:\n                case MINUS:\n                case FF_MINUS:\n                    this._change(-1);\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(ZoomControl);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/crs', [\n        'dataviz/map/location',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, atan = math.atan, exp = math.exp, pow = math.pow, sin = math.sin, log = math.log, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, map = dataviz.map, Location = map.Location, util = kendo.util, rad = util.rad, deg = util.deg, limit = util.limitValue;\n        var PI = math.PI, PI_DIV_2 = PI / 2, PI_DIV_4 = PI / 4, DEG_TO_RAD = PI / 180;\n        var WGS84 = {\n            a: 6378137,\n            b: 6356752.314245179,\n            f: 0.0033528106647474805,\n            e: 0.08181919084262149\n        };\n        var Mercator = Class.extend({\n            init: function (options) {\n                this._initOptions(options);\n            },\n            MAX_LNG: 180,\n            MAX_LAT: 85.0840590501,\n            INVERSE_ITERATIONS: 15,\n            INVERSE_CONVERGENCE: 1e-12,\n            options: {\n                centralMeridian: 0,\n                datum: WGS84\n            },\n            forward: function (loc, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT), lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng, x = rad(lng - lng0) * r, y = proj._projectLat(lat);\n                return new Point(x, y);\n            },\n            _projectLat: function (lat) {\n                var datum = this.options.datum, ecc = datum.e, r = datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2), con = ecc * sin(y), p = pow((1 - con) / (1 + con), ecc / 2);\n                return r * log(ts * p);\n            },\n            inverse: function (point, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lng = point.x / (DEG_TO_RAD * r) + lng0, lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n                if (clamp) {\n                    lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\n                }\n                return new Location(lat, lng);\n            },\n            _inverseY: function (y) {\n                var proj = this, datum = proj.options.datum, r = datum.a, ecc = datum.e, ecch = ecc / 2, ts = exp(-y / r), phi = PI_DIV_2 - 2 * atan(ts), i;\n                for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n                    var con = ecc * sin(phi), p = pow((1 - con) / (1 + con), ecch), dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n                    phi += dphi;\n                    if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                        break;\n                    }\n                }\n                return deg(phi);\n            }\n        });\n        var SphericalMercator = Mercator.extend({\n            MAX_LAT: 85.0511287798,\n            _projectLat: function (lat) {\n                var r = this.options.datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2);\n                return r * log(ts);\n            },\n            _inverseY: function (y) {\n                var r = this.options.datum.a, ts = exp(-y / r);\n                return deg(PI_DIV_2 - 2 * atan(ts));\n            }\n        });\n        var Equirectangular = Class.extend({\n            forward: function (loc) {\n                return new Point(loc.lng, loc.lat);\n            },\n            inverse: function (point) {\n                return new Location(point.y, point.x);\n            }\n        });\n        var EPSG3857 = Class.extend({\n            init: function () {\n                var crs = this, proj = crs._proj = new SphericalMercator();\n                var c = this.c = 2 * PI * proj.options.datum.a;\n                this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n                this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\n            },\n            toPoint: function (loc, scale, clamp) {\n                var point = this._proj.forward(loc, clamp);\n                return point.transform(this._tm).scale(scale || 1);\n            },\n            toLocation: function (point, scale, clamp) {\n                point = point.clone().scale(1 / (scale || 1)).transform(this._itm);\n                return this._proj.inverse(point, clamp);\n            }\n        });\n        var EPSG3395 = Class.extend({\n            init: function () {\n                this._proj = new Mercator();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        var EPSG4326 = Class.extend({\n            init: function () {\n                this._proj = new Equirectangular();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                crs: {\n                    EPSG3395: EPSG3395,\n                    EPSG3857: EPSG3857,\n                    EPSG4326: EPSG4326\n                },\n                datums: { WGS84: WGS84 },\n                projections: {\n                    Equirectangular: Equirectangular,\n                    Mercator: Mercator,\n                    SphericalMercator: SphericalMercator\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/base', [\n        'kendo.core',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, Extent = dataviz.map.Extent, util = kendo.util, defined = util.defined;\n        var Layer = Class.extend({\n            init: function (map, options) {\n                this._initOptions(options);\n                this.map = map;\n                this.element = $('<div class=\\'k-layer\\'></div>').css({\n                    'zIndex': this.options.zIndex,\n                    'opacity': this.options.opacity\n                }).appendTo(map.scrollElement);\n                this._beforeReset = proxy(this._beforeReset, this);\n                this._reset = proxy(this._reset, this);\n                this._resize = proxy(this._resize, this);\n                this._panEnd = proxy(this._panEnd, this);\n                this._activate();\n                this._updateAttribution();\n            },\n            destroy: function () {\n                this._deactivate();\n            },\n            show: function () {\n                this.reset();\n                this._activate();\n                this._applyExtent(true);\n            },\n            hide: function () {\n                this._deactivate();\n                this._setVisibility(false);\n            },\n            reset: function () {\n                this._beforeReset();\n                this._reset();\n            },\n            _reset: function () {\n                this._applyExtent();\n            },\n            _beforeReset: $.noop,\n            _resize: $.noop,\n            _panEnd: function () {\n                this._applyExtent();\n            },\n            _applyExtent: function () {\n                var options = this.options;\n                var zoom = this.map.zoom();\n                var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n                var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n                var extent = Extent.create(options.extent);\n                var inside = !extent || extent.overlaps(this.map.extent());\n                this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n            },\n            _setVisibility: function (visible) {\n                this.element.css('display', visible ? '' : 'none');\n            },\n            _activate: function () {\n                var map = this.map;\n                map.bind('beforeReset', this._beforeReset);\n                map.bind('reset', this._reset);\n                map.bind('resize', this._resize);\n                map.bind('panEnd', this._panEnd);\n            },\n            _deactivate: function () {\n                var map = this.map;\n                map.unbind('beforeReset', this._beforeReset);\n                map.unbind('reset', this._reset);\n                map.unbind('resize', this._resize);\n                map.unbind('panEnd', this._panEnd);\n            },\n            _updateAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    attr.add(this.options.attribution);\n                }\n            }\n        });\n        deepExtend(dataviz, { map: { layers: { Layer: Layer } } });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/shape', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, last = kendo.util.last, defined = kendo.util.defined, g = kendo.geometry, d = kendo.drawing, Group = d.Group, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var ShapeLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                this.surface = d.Surface.create(this.element, {\n                    width: map.scrollElement.width(),\n                    height: map.scrollElement.height()\n                });\n                this._initRoot();\n                this.movable = new kendo.ui.Movable(this.surface.element);\n                this._markers = [];\n                this._click = this._handler('shapeClick');\n                this.surface.bind('click', this._click);\n                this._mouseenter = this._handler('shapeMouseEnter');\n                this.surface.bind('mouseenter', this._mouseenter);\n                this._mouseleave = this._handler('shapeMouseLeave');\n                this.surface.bind('mouseleave', this._mouseleave);\n                this._initDataSource();\n            },\n            options: { autoBind: true },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.surface.destroy();\n                this.dataSource.unbind('change', this._dataChange);\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._translateSurface();\n                if (this._data) {\n                    this._load(this._data);\n                }\n            },\n            _initRoot: function () {\n                this._root = new Group();\n                this.surface.draw(this._root);\n            },\n            _beforeReset: function () {\n                this.surface.clear();\n                this._initRoot();\n            },\n            _resize: function () {\n                this.surface.size(this.map.size());\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._data = e.sender.view();\n                this._load(this._data);\n            },\n            _load: function (data) {\n                this._clearMarkers();\n                if (!this._loader) {\n                    this._loader = new GeoJSONLoader(this.map, this.options.style, this);\n                }\n                var container = new Group();\n                for (var i = 0; i < data.length; i++) {\n                    var shape = this._loader.parse(data[i]);\n                    if (shape) {\n                        container.append(shape);\n                    }\n                }\n                this._root.clear();\n                this._root.append(container);\n            },\n            shapeCreated: function (shape) {\n                var cancelled = false;\n                if (shape instanceof d.Circle) {\n                    cancelled = defined(this._createMarker(shape));\n                }\n                if (!cancelled) {\n                    var args = {\n                        layer: this,\n                        shape: shape\n                    };\n                    cancelled = this.map.trigger('shapeCreated', args);\n                }\n                return cancelled;\n            },\n            _createMarker: function (shape) {\n                var marker = this.map.markers.bind({ location: shape.location }, shape.dataItem);\n                if (marker) {\n                    this._markers.push(marker);\n                }\n                return marker;\n            },\n            _clearMarkers: function () {\n                for (var i = 0; i < this._markers.length; i++) {\n                    this.map.markers.remove(this._markers[i]);\n                }\n                this._markers = [];\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._translateSurface();\n            },\n            _translateSurface: function () {\n                var map = this.map;\n                var nw = map.locationToView(map.extent().nw);\n                if (this.surface.translate) {\n                    this.surface.translate(nw);\n                    this.movable.moveTo({\n                        x: nw.x,\n                        y: nw.y\n                    });\n                }\n            },\n            _handler: function (event) {\n                var layer = this;\n                return function (e) {\n                    if (e.element) {\n                        var args = {\n                            layer: layer,\n                            shape: e.element,\n                            originalEvent: e.originalEvent\n                        };\n                        layer.map.trigger(event, args);\n                    }\n                };\n            }\n        });\n        var GeoJSONLoader = Class.extend({\n            init: function (locator, defaultStyle, observer) {\n                this.observer = observer;\n                this.locator = locator;\n                this.style = defaultStyle;\n            },\n            parse: function (item) {\n                var root = new Group();\n                if (item.type === 'Feature') {\n                    this._loadGeometryTo(root, item.geometry, item);\n                } else {\n                    this._loadGeometryTo(root, item, item);\n                }\n                if (root.children.length < 2) {\n                    root = root.children[0];\n                }\n                return root;\n            },\n            _shapeCreated: function (shape) {\n                var cancelled = false;\n                if (this.observer && this.observer.shapeCreated) {\n                    cancelled = this.observer.shapeCreated(shape);\n                }\n                return cancelled;\n            },\n            _loadGeometryTo: function (container, geometry, dataItem) {\n                var coords = geometry.coordinates;\n                var i;\n                var path;\n                switch (geometry.type) {\n                case 'LineString':\n                    path = this._loadPolygon(container, [coords], dataItem);\n                    this._setLineFill(path);\n                    break;\n                case 'MultiLineString':\n                    for (i = 0; i < coords.length; i++) {\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\n                        this._setLineFill(path);\n                    }\n                    break;\n                case 'Polygon':\n                    this._loadPolygon(container, coords, dataItem);\n                    break;\n                case 'MultiPolygon':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPolygon(container, coords[i], dataItem);\n                    }\n                    break;\n                case 'Point':\n                    this._loadPoint(container, coords, dataItem);\n                    break;\n                case 'MultiPoint':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPoint(container, coords[i], dataItem);\n                    }\n                    break;\n                }\n            },\n            _setLineFill: function (path) {\n                var segments = path.segments;\n                if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n                    path.options.fill = null;\n                }\n            },\n            _loadShape: function (container, shape) {\n                if (!this._shapeCreated(shape)) {\n                    container.append(shape);\n                }\n                return shape;\n            },\n            _loadPolygon: function (container, rings, dataItem) {\n                var shape = this._buildPolygon(rings);\n                shape.dataItem = dataItem;\n                return this._loadShape(container, shape);\n            },\n            _buildPolygon: function (rings) {\n                var type = rings.length > 1 ? d.MultiPath : d.Path;\n                var path = new type(this.style);\n                for (var i = 0; i < rings.length; i++) {\n                    for (var j = 0; j < rings[i].length; j++) {\n                        var point = this.locator.locationToView(Location.fromLngLat(rings[i][j]));\n                        if (j === 0) {\n                            path.moveTo(point.x, point.y);\n                        } else {\n                            path.lineTo(point.x, point.y);\n                        }\n                    }\n                }\n                return path;\n            },\n            _loadPoint: function (container, coords, dataItem) {\n                var location = Location.fromLngLat(coords);\n                var point = this.locator.locationToView(location);\n                var circle = new g.Circle(point, 10);\n                var shape = new d.Circle(circle, this.style);\n                shape.dataItem = dataItem;\n                shape.location = location;\n                return this._loadShape(container, shape);\n            }\n        });\n        deepExtend(kendo.data, {\n            schemas: {\n                geojson: {\n                    type: 'json',\n                    data: function (data) {\n                        if (data.type === 'FeatureCollection') {\n                            return data.features;\n                        }\n                        if (data.type === 'GeometryCollection') {\n                            return data.geometries;\n                        }\n                        return data;\n                    }\n                }\n            },\n            transports: { geojson: { read: { dataType: 'json' } } }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    shape: ShapeLayer,\n                    ShapeLayer: ShapeLayer\n                },\n                GeoJSONLoader: GeoJSONLoader\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bubble', ['dataviz/map/layers/shape'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, getter = kendo.getter, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, g = kendo.geometry, d = kendo.drawing, map = dataviz.map, Location = map.Location, ShapeLayer = map.layers.ShapeLayer;\n        var BubbleLayer = ShapeLayer.extend({\n            options: {\n                autoBind: true,\n                locationField: 'location',\n                valueField: 'value',\n                minSize: 0,\n                maxSize: 100,\n                scale: 'sqrt',\n                symbol: 'circle'\n            },\n            _load: function (data) {\n                this.surface.clear();\n                if (data.length === 0) {\n                    return;\n                }\n                var opt = this.options;\n                var getValue = getter(opt.valueField);\n                data = data.slice(0);\n                data.sort(function (a, b) {\n                    return getValue(b) - getValue(a);\n                });\n                var scaleType = this._scaleType();\n                var scale;\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    var location = getter(opt.locationField)(dataItem);\n                    var value = getter(opt.valueField)(dataItem);\n                    if (defined(location) && defined(value)) {\n                        if (!scale) {\n                            scale = new scaleType([\n                                0,\n                                value\n                            ], [\n                                opt.minSize,\n                                opt.maxSize\n                            ]);\n                        }\n                        location = Location.create(location);\n                        var center = this.map.locationToView(location);\n                        var size = scale.map(value);\n                        var symbol = this._createSymbol({\n                            center: center,\n                            size: size,\n                            style: opt.style,\n                            dataItem: dataItem,\n                            location: location\n                        });\n                        symbol.dataItem = dataItem;\n                        symbol.location = location;\n                        symbol.value = value;\n                        this._drawSymbol(symbol);\n                    }\n                }\n            },\n            _scaleType: function () {\n                var scale = this.options.scale;\n                if (kendo.isFunction(scale)) {\n                    return scale;\n                }\n                return dataviz.map.scales[scale];\n            },\n            _createSymbol: function (args) {\n                var symbol = this.options.symbol;\n                if (!kendo.isFunction(symbol)) {\n                    symbol = dataviz.map.symbols[symbol];\n                }\n                return symbol(args);\n            },\n            _drawSymbol: function (shape) {\n                var args = {\n                    layer: this,\n                    shape: shape\n                };\n                var cancelled = this.map.trigger('shapeCreated', args);\n                if (!cancelled) {\n                    this.surface.draw(shape);\n                }\n            }\n        });\n        var SqrtScale = kendo.Class.extend({\n            init: function (domain, range) {\n                this._domain = domain;\n                this._range = range;\n                var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n                var outputRange = range[1] - range[0];\n                this._ratio = outputRange / domainRange;\n            },\n            map: function (value) {\n                var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n                return this._range[0] + rel;\n            }\n        });\n        var Symbols = {\n            circle: function (args) {\n                var geo = new g.Circle(args.center, args.size / 2);\n                return new d.Circle(geo, args.style);\n            },\n            square: function (args) {\n                var path = new d.Path(args.style);\n                var halfSize = args.size / 2;\n                var center = args.center;\n                path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();\n                return path;\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bubble: BubbleLayer,\n                    BubbleLayer: BubbleLayer\n                },\n                scales: { sqrt: SqrtScale },\n                symbols: Symbols\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/tile', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, template = kendo.template, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Layer = dataviz.map.layers.Layer, util = kendo.util, round = util.round, renderSize = util.renderSize, limit = util.limitValue;\n        var TileLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                if (typeof this.options.subdomains === 'string') {\n                    this.options.subdomains = this.options.subdomains.split('');\n                }\n                var viewType = this._viewType();\n                this._view = new viewType(this.element, this.options);\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this._view.destroy();\n                this._view = null;\n            },\n            _beforeReset: function () {\n                var map = this.map;\n                var origin = map.locationToLayer(map.extent().nw).round();\n                this._view.viewOrigin(origin);\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._updateView();\n                this._view.reset();\n            },\n            _viewType: function () {\n                return TileView;\n            },\n            _activate: function () {\n                Layer.fn._activate.call(this);\n                if (!kendo.support.mobileOS) {\n                    if (!this._pan) {\n                        this._pan = kendo.throttle(proxy(this._render, this), 100);\n                    }\n                    this.map.bind('pan', this._pan);\n                }\n            },\n            _deactivate: function () {\n                Layer.fn._deactivate.call(this);\n                if (this._pan) {\n                    this.map.unbind('pan', this._pan);\n                }\n            },\n            _updateView: function () {\n                var view = this._view, map = this.map, extent = map.extent(), extentToPoint = {\n                        nw: map.locationToLayer(extent.nw).round(),\n                        se: map.locationToLayer(extent.se).round()\n                    };\n                view.center(map.locationToLayer(map.center()));\n                view.extent(extentToPoint);\n                view.zoom(map.zoom());\n            },\n            _resize: function () {\n                this._render();\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._render();\n            },\n            _render: function () {\n                this._updateView();\n                this._view.render();\n            }\n        });\n        var TileView = Class.extend({\n            init: function (element, options) {\n                this.element = element;\n                this._initOptions(options);\n                this.pool = new TilePool();\n            },\n            options: {\n                tileSize: 256,\n                subdomains: [\n                    'a',\n                    'b',\n                    'c'\n                ],\n                urlTemplate: ''\n            },\n            center: function (center) {\n                this._center = center;\n            },\n            extent: function (extent) {\n                this._extent = extent;\n            },\n            viewOrigin: function (origin) {\n                this._viewOrigin = origin;\n            },\n            zoom: function (zoom) {\n                this._zoom = zoom;\n            },\n            pointToTileIndex: function (point) {\n                return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\n            },\n            tileCount: function () {\n                var size = this.size(), firstTileIndex = this.pointToTileIndex(this._extent.nw), nw = this._extent.nw, point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n                return {\n                    x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n                    y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n                };\n            },\n            size: function () {\n                var nw = this._extent.nw, se = this._extent.se, diff = se.clone().translate(-nw.x, -nw.y);\n                return {\n                    width: diff.x,\n                    height: diff.y\n                };\n            },\n            indexToPoint: function (index) {\n                var x = index.x, y = index.y;\n                return new Point(x * this.options.tileSize, y * this.options.tileSize);\n            },\n            subdomainText: function () {\n                var subdomains = this.options.subdomains;\n                return subdomains[this.subdomainIndex++ % subdomains.length];\n            },\n            destroy: function () {\n                this.element.empty();\n                this.pool.empty();\n            },\n            reset: function () {\n                this.pool.reset();\n                this.subdomainIndex = 0;\n                this.render();\n            },\n            render: function () {\n                var size = this.tileCount(), firstTileIndex = this.pointToTileIndex(this._extent.nw), tile, x, y;\n                for (x = 0; x < size.x; x++) {\n                    for (y = 0; y < size.y; y++) {\n                        tile = this.createTile({\n                            x: firstTileIndex.x + x,\n                            y: firstTileIndex.y + y\n                        });\n                        if (!tile.visible) {\n                            tile.show();\n                        }\n                    }\n                }\n            },\n            createTile: function (currentIndex) {\n                var options = this.tileOptions(currentIndex);\n                var tile = this.pool.get(this._center, options);\n                if (tile.element.parent().length === 0) {\n                    this.element.append(tile.element);\n                }\n                return tile;\n            },\n            tileOptions: function (currentIndex) {\n                var index = this.wrapIndex(currentIndex), point = this.indexToPoint(currentIndex), origin = this._viewOrigin, offset = point.clone().translate(-origin.x, -origin.y);\n                return {\n                    index: index,\n                    currentIndex: currentIndex,\n                    point: point,\n                    offset: roundPoint(offset),\n                    zoom: this._zoom,\n                    size: this.options.tileSize,\n                    subdomain: this.subdomainText(),\n                    urlTemplate: this.options.urlTemplate,\n                    errorUrlTemplate: this.options.errorUrlTemplate\n                };\n            },\n            wrapIndex: function (index) {\n                var boundary = math.pow(2, this._zoom);\n                return {\n                    x: this.wrapValue(index.x, boundary),\n                    y: limit(index.y, 0, boundary - 1)\n                };\n            },\n            wrapValue: function (value, boundary) {\n                var remainder = math.abs(value) % boundary;\n                if (value >= 0) {\n                    value = remainder;\n                } else {\n                    value = boundary - (remainder === 0 ? boundary : remainder);\n                }\n                return value;\n            }\n        });\n        var ImageTile = Class.extend({\n            init: function (id, options) {\n                this.id = id;\n                this.visible = true;\n                this._initOptions(options);\n                this.createElement();\n                this.show();\n            },\n            options: {\n                urlTemplate: '',\n                errorUrlTemplate: ''\n            },\n            createElement: function () {\n                this.element = $('<img style=\\'position: absolute; display: block;\\' />').css({\n                    width: this.options.size,\n                    height: this.options.size\n                }).error(proxy(function (e) {\n                    if (this.errorUrl()) {\n                        e.target.setAttribute('src', this.errorUrl());\n                    } else {\n                        e.target.removeAttribute('src');\n                    }\n                }, this));\n            },\n            show: function () {\n                var element = this.element[0];\n                element.style.top = renderSize(this.options.offset.y);\n                element.style.left = renderSize(this.options.offset.x);\n                var url = this.url();\n                if (url) {\n                    element.setAttribute('src', url);\n                }\n                element.style.visibility = 'visible';\n                this.visible = true;\n            },\n            hide: function () {\n                this.element[0].style.visibility = 'hidden';\n                this.visible = false;\n            },\n            url: function () {\n                var urlResult = template(this.options.urlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            errorUrl: function () {\n                var urlResult = template(this.options.errorUrlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            urlOptions: function () {\n                var options = this.options;\n                return {\n                    zoom: options.zoom,\n                    subdomain: options.subdomain,\n                    z: options.zoom,\n                    x: options.index.x,\n                    y: options.index.y,\n                    s: options.subdomain,\n                    quadkey: options.quadkey,\n                    q: options.quadkey,\n                    culture: options.culture,\n                    c: options.culture\n                };\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n            }\n        });\n        var TilePool = Class.extend({\n            init: function () {\n                this._items = [];\n            },\n            options: { maxSize: 100 },\n            get: function (center, options) {\n                if (this._items.length >= this.options.maxSize) {\n                    this._remove(center);\n                }\n                return this._create(options);\n            },\n            empty: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].destroy();\n                }\n                this._items = [];\n            },\n            reset: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].hide();\n                }\n            },\n            _create: function (options) {\n                var items = this._items;\n                var tile;\n                var id = util.hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].id === id) {\n                        tile = items[i];\n                    }\n                }\n                if (tile) {\n                    tile.show();\n                } else {\n                    tile = new ImageTile(id, options);\n                    this._items.push(tile);\n                }\n                return tile;\n            },\n            _remove: function (center) {\n                var items = this._items;\n                var maxDist = -1;\n                var index = -1;\n                for (var i = 0; i < items.length; i++) {\n                    var dist = items[i].options.point.distanceTo(center);\n                    if (dist > maxDist) {\n                        index = i;\n                        maxDist = dist;\n                    }\n                }\n                if (index !== -1) {\n                    items[index].destroy();\n                    items.splice(index, 1);\n                }\n            }\n        });\n        function roundPoint(point) {\n            return new Point(round(point.x), round(point.y));\n        }\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    tile: TileLayer,\n                    TileLayer: TileLayer,\n                    ImageTile: ImageTile,\n                    TilePool: TilePool,\n                    TileView: TileView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bing', ['dataviz/map/layers/tile'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, defined = kendo.util.defined, Extent = dataviz.map.Extent, Location = dataviz.map.Location, TileLayer = dataviz.map.layers.TileLayer, TileView = dataviz.map.layers.TileView;\n        var BingLayer = TileLayer.extend({\n            init: function (map, options) {\n                TileLayer.fn.init.call(this, map, options);\n                this._onMetadata = $.proxy(this._onMetadata, this);\n                this._fetchMetadata();\n            },\n            options: {\n                baseUrl: '//dev.virtualearth.net/REST/v1/Imagery/Metadata/',\n                imagerySet: 'road'\n            },\n            _fetchMetadata: function () {\n                var options = this.options;\n                if (!options.key) {\n                    throw new Error('Bing tile layer: API key is required');\n                }\n                $.ajax({\n                    url: options.baseUrl + options.imagerySet,\n                    data: {\n                        output: 'json',\n                        include: 'ImageryProviders',\n                        key: options.key,\n                        uriScheme: this._scheme(window.location.protocol)\n                    },\n                    type: 'get',\n                    dataType: 'jsonp',\n                    jsonp: 'jsonp',\n                    success: this._onMetadata\n                });\n            },\n            _scheme: function (proto) {\n                return proto.replace(':', '') === 'https' ? 'https' : 'http';\n            },\n            _onMetadata: function (data) {\n                if (data && data.resourceSets.length) {\n                    var resource = this.resource = data.resourceSets[0].resources[0];\n                    deepExtend(this._view.options, {\n                        urlTemplate: resource.imageUrl.replace('{subdomain}', '#= subdomain #').replace('{quadkey}', '#= quadkey #').replace('{culture}', '#= culture #'),\n                        subdomains: resource.imageUrlSubdomains\n                    });\n                    var options = this.options;\n                    if (!defined(options.minZoom)) {\n                        options.minZoom = resource.zoomMin;\n                    }\n                    if (!defined(options.maxZoom)) {\n                        options.maxZoom = resource.zoomMax;\n                    }\n                    this._addAttribution();\n                    if (this.element.css('display') !== 'none') {\n                        this._reset();\n                    }\n                }\n            },\n            _viewType: function () {\n                return BingView;\n            },\n            _addAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    var items = this.resource.imageryProviders;\n                    if (items) {\n                        for (var i = 0; i < items.length; i++) {\n                            var item = items[i];\n                            for (var y = 0; y < item.coverageAreas.length; y++) {\n                                var area = item.coverageAreas[y];\n                                attr.add({\n                                    text: item.attribution,\n                                    minZoom: area.zoomMin,\n                                    maxZoom: area.zoomMax,\n                                    extent: new Extent(new Location(area.bbox[2], area.bbox[1]), new Location(area.bbox[0], area.bbox[3]))\n                                });\n                            }\n                        }\n                    }\n                }\n            },\n            imagerySet: function (value) {\n                if (value) {\n                    this.options.imagerySet = value;\n                    this.map.attribution.clear();\n                    this._fetchMetadata();\n                } else {\n                    return this.options.imagerySet;\n                }\n            }\n        });\n        var BingView = TileView.extend({\n            options: { culture: 'en-US' },\n            tileOptions: function (currentIndex) {\n                var options = TileView.fn.tileOptions.call(this, currentIndex);\n                options.culture = this.options.culture;\n                options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\n                return options;\n            },\n            tileQuadKey: function (index) {\n                var quadKey = '', digit, mask, i;\n                for (i = this._zoom; i > 0; i--) {\n                    digit = 0;\n                    mask = 1 << i - 1;\n                    if ((index.x & mask) !== 0) {\n                        digit++;\n                    }\n                    if ((index.y & mask) !== 0) {\n                        digit += 2;\n                    }\n                    quadKey += digit;\n                }\n                return quadKey;\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bing: BingLayer,\n                    BingLayer: BingLayer,\n                    BingView: BingView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/marker', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location',\n        'kendo.data',\n        'kendo.tooltip'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, indexOf = $.inArray, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, Tooltip = kendo.ui.Tooltip, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var MarkerLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                this._markerClick = proxy(this._markerClick, this);\n                this.element.on('click', '.k-marker', this._markerClick);\n                this.items = [];\n                this._initDataSource();\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.element.off('click', '.k-marker', this._markerClick);\n                this.dataSource.unbind('change', this._dataChange);\n                this.clear();\n            },\n            options: {\n                zIndex: 1000,\n                autoBind: true,\n                dataSource: {},\n                locationField: 'location',\n                titleField: 'title'\n            },\n            add: function (arg) {\n                if ($.isArray(arg)) {\n                    for (var i = 0; i < arg.length; i++) {\n                        this._addOne(arg[i]);\n                    }\n                } else {\n                    return this._addOne(arg);\n                }\n            },\n            remove: function (marker) {\n                marker.destroy();\n                var index = indexOf(marker, this.items);\n                if (index > -1) {\n                    this.items.splice(index, 1);\n                }\n            },\n            clear: function () {\n                for (var i = 0; i < this.items.length; i++) {\n                    this.items[i].destroy();\n                }\n                this.items = [];\n            },\n            update: function (marker) {\n                var loc = marker.location();\n                if (loc) {\n                    marker.showAt(this.map.locationToView(loc));\n                    var args = {\n                        marker: marker,\n                        layer: this\n                    };\n                    this.map.trigger('markerActivate', args);\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                var items = this.items;\n                for (var i = 0; i < items.length; i++) {\n                    this.update(items[i]);\n                }\n            },\n            bind: function (options, dataItem) {\n                var marker = map.Marker.create(options, this.options);\n                marker.dataItem = dataItem;\n                var args = {\n                    marker: marker,\n                    layer: this\n                };\n                var cancelled = this.map.trigger('markerCreated', args);\n                if (!cancelled) {\n                    this.add(marker);\n                    return marker;\n                }\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _addOne: function (arg) {\n                var marker = Marker.create(arg, this.options);\n                marker.addTo(this);\n                return marker;\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._load(e.sender.view());\n            },\n            _load: function (data) {\n                this._data = data;\n                this.clear();\n                var getLocation = kendo.getter(this.options.locationField);\n                var getTitle = kendo.getter(this.options.titleField);\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    this.bind({\n                        location: getLocation(dataItem),\n                        title: getTitle(dataItem)\n                    }, dataItem);\n                }\n            },\n            _markerClick: function (e) {\n                var args = {\n                    marker: $(e.target).data('kendoMarker'),\n                    layer: this\n                };\n                this.map.trigger('markerClick', args);\n            }\n        });\n        var Marker = Class.extend({\n            init: function (options) {\n                this.options = options || {};\n            },\n            addTo: function (parent) {\n                this.layer = parent.markers || parent;\n                this.layer.items.push(this);\n                this.layer.update(this);\n            },\n            location: function (value) {\n                if (value) {\n                    this.options.location = Location.create(value).toArray();\n                    if (this.layer) {\n                        this.layer.update(this);\n                    }\n                    return this;\n                } else {\n                    return Location.create(this.options.location);\n                }\n            },\n            showAt: function (point) {\n                this.render();\n                this.element.css({\n                    left: math.round(point.x),\n                    top: math.round(point.y)\n                });\n                if (this.tooltip && this.tooltip.popup) {\n                    this.tooltip.popup._position();\n                }\n            },\n            hide: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n                if (this.tooltip) {\n                    this.tooltip.destroy();\n                    this.tooltip = null;\n                }\n            },\n            destroy: function () {\n                this.layer = null;\n                this.hide();\n            },\n            render: function () {\n                if (!this.element) {\n                    var options = this.options;\n                    var layer = this.layer;\n                    this.element = $(doc.createElement('span')).addClass('k-marker k-marker-' + kendo.toHyphens(options.shape || 'pin')).attr('title', options.title).attr(options.attributes || {}).data('kendoMarker', this).css('zIndex', options.zIndex);\n                    if (layer) {\n                        layer.element.append(this.element);\n                    }\n                    this.renderTooltip();\n                }\n            },\n            renderTooltip: function () {\n                var marker = this;\n                var title = marker.options.title;\n                var options = marker.options.tooltip || {};\n                if (options && Tooltip) {\n                    var template = options.template;\n                    if (template) {\n                        var contentTemplate = kendo.template(template);\n                        options.content = function (e) {\n                            e.location = marker.location();\n                            e.marker = marker;\n                            return contentTemplate(e);\n                        };\n                    }\n                    if (title || options.content || options.contentUrl) {\n                        this.tooltip = new Tooltip(this.element, options);\n                        this.tooltip.marker = this;\n                    }\n                }\n            }\n        });\n        Marker.create = function (arg, defaults) {\n            if (arg instanceof Marker) {\n                return arg;\n            }\n            return new Marker(deepExtend({}, defaults, arg));\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    marker: MarkerLayer,\n                    MarkerLayer: MarkerLayer\n                },\n                Marker: Marker\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/main', [\n        'dataviz/map/crs',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, min = math.min, pow = math.pow, proxy = $.proxy, kendo = window.kendo, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, ui = dataviz.ui, g = kendo.geometry, Point = g.Point, map = dataviz.map, Extent = map.Extent, Location = map.Location, EPSG3857 = map.crs.EPSG3857, util = kendo.util, defined = util.defined, limit = util.limitValue, renderPos = util.renderPos, valueOrDefault = util.valueOrDefault;\n        var CSS_PREFIX = 'k-', FRICTION = 0.9, FRICTION_MOBILE = 0.93, MOUSEWHEEL = 'DOMMouseScroll mousewheel', VELOCITY_MULTIPLIER = 5;\n        var Map = Widget.extend({\n            init: function (element, options) {\n                kendo.destroy(element);\n                Widget.fn.init.call(this, element);\n                this._initOptions(options);\n                this.bind(this.events, options);\n                this.crs = new EPSG3857();\n                this.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative').empty().append(doc.createElement('div'));\n                this._viewOrigin = this._getOrigin();\n                this._initScroller();\n                this._initMarkers();\n                this._initControls();\n                this._initLayers();\n                this._reset();\n                this._mousewheel = proxy(this._mousewheel, this);\n                this.element.bind('click', proxy(this._click, this));\n                this.element.bind(MOUSEWHEEL, this._mousewheel);\n            },\n            options: {\n                name: 'Map',\n                controls: {\n                    attribution: true,\n                    navigator: { panStep: 100 },\n                    zoom: true\n                },\n                layers: [],\n                layerDefaults: {\n                    shape: {\n                        style: {\n                            fill: { color: '#fff' },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    bubble: {\n                        style: {\n                            fill: {\n                                color: '#fff',\n                                opacity: 0.5\n                            },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    marker: {\n                        shape: 'pinTarget',\n                        tooltip: { position: 'top' }\n                    }\n                },\n                center: [\n                    0,\n                    0\n                ],\n                zoom: 3,\n                minSize: 256,\n                minZoom: 1,\n                maxZoom: 19,\n                markers: [],\n                markerDefaults: {\n                    shape: 'pinTarget',\n                    tooltip: { position: 'top' }\n                },\n                wraparound: true\n            },\n            events: [\n                'beforeReset',\n                'click',\n                'reset',\n                'pan',\n                'panEnd',\n                'markerActivate',\n                'markerClick',\n                'markerCreated',\n                'shapeClick',\n                'shapeCreated',\n                'shapeMouseEnter',\n                'shapeMouseLeave',\n                'zoomStart',\n                'zoomEnd'\n            ],\n            destroy: function () {\n                this.scroller.destroy();\n                if (this.navigator) {\n                    this.navigator.destroy();\n                }\n                if (this.attribution) {\n                    this.attribution.destroy();\n                }\n                if (this.zoomControl) {\n                    this.zoomControl.destroy();\n                }\n                this.markers.destroy();\n                for (var i = 0; i < this.layers.length; i++) {\n                    this.layers[i].destroy();\n                }\n                Widget.fn.destroy.call(this);\n            },\n            zoom: function (level) {\n                var options = this.options;\n                if (defined(level)) {\n                    level = math.round(limit(level, options.minZoom, options.maxZoom));\n                    if (options.zoom !== level) {\n                        options.zoom = level;\n                        this._reset();\n                    }\n                    return this;\n                } else {\n                    return options.zoom;\n                }\n            },\n            center: function (center) {\n                if (center) {\n                    this.options.center = Location.create(center).toArray();\n                    this._reset();\n                    return this;\n                } else {\n                    return Location.create(this.options.center);\n                }\n            },\n            extent: function (extent) {\n                if (extent) {\n                    this._setExtent(extent);\n                    return this;\n                } else {\n                    return this._getExtent();\n                }\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._reset();\n            },\n            locationToLayer: function (location, zoom) {\n                var clamp = !this.options.wraparound;\n                location = Location.create(location);\n                return this.crs.toPoint(location, this._layerSize(zoom), clamp);\n            },\n            layerToLocation: function (point, zoom) {\n                var clamp = !this.options.wraparound;\n                point = Point.create(point);\n                return this.crs.toLocation(point, this._layerSize(zoom), clamp);\n            },\n            locationToView: function (location) {\n                location = Location.create(location);\n                var origin = this.locationToLayer(this._viewOrigin);\n                var point = this.locationToLayer(location);\n                return point.translateWith(origin.scale(-1));\n            },\n            viewToLocation: function (point, zoom) {\n                var origin = this.locationToLayer(this._getOrigin(), zoom);\n                point = Point.create(point);\n                point = point.clone().translateWith(origin);\n                return this.layerToLocation(point, zoom);\n            },\n            eventOffset: function (e) {\n                var offset = this.element.offset();\n                var event = e.originalEvent || e;\n                var x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n                var y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n                return new g.Point(x, y);\n            },\n            eventToView: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.locationToView(this.viewToLocation(cursor));\n            },\n            eventToLayer: function (e) {\n                return this.locationToLayer(this.eventToLocation(e));\n            },\n            eventToLocation: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.viewToLocation(cursor);\n            },\n            viewSize: function () {\n                var element = this.element;\n                var scale = this._layerSize();\n                var width = element.width();\n                if (!this.options.wraparound) {\n                    width = min(scale, width);\n                }\n                return {\n                    width: width,\n                    height: min(scale, element.height())\n                };\n            },\n            exportVisual: function () {\n                this._reset();\n                return false;\n            },\n            _setOrigin: function (origin, zoom) {\n                var size = this.viewSize(), topLeft;\n                origin = this._origin = Location.create(origin);\n                topLeft = this.locationToLayer(origin, zoom);\n                topLeft.x += size.width / 2;\n                topLeft.y += size.height / 2;\n                this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n                return this;\n            },\n            _getOrigin: function (invalidate) {\n                var size = this.viewSize(), topLeft;\n                if (invalidate || !this._origin) {\n                    topLeft = this.locationToLayer(this.center());\n                    topLeft.x -= size.width / 2;\n                    topLeft.y -= size.height / 2;\n                    this._origin = this.layerToLocation(topLeft);\n                }\n                return this._origin;\n            },\n            _setExtent: function (extent) {\n                extent = Extent.create(extent);\n                this.center(extent.center());\n                var width = this.element.width();\n                var height = this.element.height();\n                for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n                    var nw = this.locationToLayer(extent.nw, zoom);\n                    var se = this.locationToLayer(extent.se, zoom);\n                    var layerWidth = math.abs(se.x - nw.x);\n                    var layerHeight = math.abs(se.y - nw.y);\n                    if (layerWidth <= width && layerHeight <= height) {\n                        break;\n                    }\n                }\n                this.zoom(zoom);\n            },\n            _getExtent: function () {\n                var nw = this._getOrigin();\n                var bottomRight = this.locationToLayer(nw);\n                var size = this.viewSize();\n                bottomRight.x += size.width;\n                bottomRight.y += size.height;\n                var se = this.layerToLocation(bottomRight);\n                return new Extent(nw, se);\n            },\n            _zoomAround: function (pivot, level) {\n                this._setOrigin(this.layerToLocation(pivot, level), level);\n                this.zoom(level);\n            },\n            _initControls: function () {\n                var controls = this.options.controls;\n                if (ui.Attribution && controls.attribution) {\n                    this._createAttribution(controls.attribution);\n                }\n                if (!kendo.support.mobileOS) {\n                    if (ui.Navigator && controls.navigator) {\n                        this._createNavigator(controls.navigator);\n                    }\n                    if (ui.ZoomControl && controls.zoom) {\n                        this._createZoomControl(controls.zoom);\n                    }\n                }\n            },\n            _createControlElement: function (options, defaultPos) {\n                var pos = options.position || defaultPos;\n                var posSelector = '.' + renderPos(pos).replace(' ', '.');\n                var wrap = $('.k-map-controls' + posSelector, this.element);\n                if (wrap.length === 0) {\n                    wrap = $('<div>').addClass('k-map-controls ' + renderPos(pos)).appendTo(this.element);\n                }\n                return $('<div>').appendTo(wrap);\n            },\n            _createAttribution: function (options) {\n                var element = this._createControlElement(options, 'bottomRight');\n                this.attribution = new ui.Attribution(element, options);\n            },\n            _createNavigator: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var navigator = this.navigator = new ui.Navigator(element, options);\n                this._navigatorPan = proxy(this._navigatorPan, this);\n                navigator.bind('pan', this._navigatorPan);\n                this._navigatorCenter = proxy(this._navigatorCenter, this);\n                navigator.bind('center', this._navigatorCenter);\n            },\n            _navigatorPan: function (e) {\n                var map = this;\n                var scroller = map.scroller;\n                var x = scroller.scrollLeft + e.x;\n                var y = scroller.scrollTop - e.y;\n                var bounds = this._virtualSize;\n                var height = this.element.height();\n                var width = this.element.width();\n                x = limit(x, bounds.x.min, bounds.x.max - width);\n                y = limit(y, bounds.y.min, bounds.y.max - height);\n                map.scroller.one('scroll', function (e) {\n                    map._scrollEnd(e);\n                });\n                map.scroller.scrollTo(-x, -y);\n            },\n            _navigatorCenter: function () {\n                this.center(this.options.center);\n            },\n            _createZoomControl: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\n                this._zoomControlChange = proxy(this._zoomControlChange, this);\n                zoomControl.bind('change', this._zoomControlChange);\n            },\n            _zoomControlChange: function (e) {\n                if (!this.trigger('zoomStart', { originalEvent: e })) {\n                    this.zoom(this.zoom() + e.delta);\n                    this.trigger('zoomEnd', { originalEvent: e });\n                }\n            },\n            _initScroller: function () {\n                var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n                var zoomable = this.options.zoomable !== false;\n                var scroller = this.scroller = new kendo.mobile.ui.Scroller(this.element.children(0), {\n                    friction: friction,\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\n                    zoom: zoomable,\n                    mousewheelScrolling: false\n                });\n                scroller.bind('scroll', proxy(this._scroll, this));\n                scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n                scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n                scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n                this.scrollElement = scroller.scrollElement;\n            },\n            _initLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [];\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _initMarkers: function () {\n                this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\n                this.markers.add(this.options.markers);\n            },\n            _scroll: function (e) {\n                var origin = this.locationToLayer(this._viewOrigin).round();\n                var movable = e.sender.movable;\n                var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n                origin.x += offset.x;\n                origin.y += offset.y;\n                this._scrollOffset = offset;\n                this._setOrigin(this.layerToLocation(origin));\n                this.trigger('pan', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _scrollEnd: function (e) {\n                if (!this._scrollOffset || !this._panComplete()) {\n                    return;\n                }\n                this._scrollOffset = null;\n                this._panEndTS = new Date();\n                this.trigger('panEnd', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _panComplete: function () {\n                return new Date() - (this._panEndTS || 0) > 50;\n            },\n            _scaleStart: function (e) {\n                if (this.trigger('zoomStart', { originalEvent: e })) {\n                    var touch = e.touches[1];\n                    if (touch) {\n                        touch.cancel();\n                    }\n                }\n            },\n            _scale: function (e) {\n                var scale = this.scroller.movable.scale;\n                var zoom = this._scaleToZoom(scale);\n                var gestureCenter = new g.Point(e.center.x, e.center.y);\n                var centerLocation = this.viewToLocation(gestureCenter, zoom);\n                var centerPoint = this.locationToLayer(centerLocation, zoom);\n                var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n                this._zoomAround(originPoint, zoom);\n                this.trigger('zoomEnd', { originalEvent: e });\n            },\n            _scaleToZoom: function (scaleDelta) {\n                var scale = this._layerSize() * scaleDelta;\n                var tiles = scale / this.options.minSize;\n                var zoom = math.log(tiles) / math.log(2);\n                return math.round(zoom);\n            },\n            _reset: function () {\n                if (this.attribution) {\n                    this.attribution.filter(this.center(), this.zoom());\n                }\n                this._viewOrigin = this._getOrigin(true);\n                this._resetScroller();\n                this.trigger('beforeReset');\n                this.trigger('reset');\n            },\n            _resetScroller: function () {\n                var scroller = this.scroller;\n                var x = scroller.dimensions.x;\n                var y = scroller.dimensions.y;\n                var scale = this._layerSize();\n                var nw = this.extent().nw;\n                var topLeft = this.locationToLayer(nw).round();\n                scroller.movable.round = true;\n                scroller.reset();\n                scroller.userEvents.cancel();\n                var zoom = this.zoom();\n                scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n                scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n                var xBounds = {\n                    min: -topLeft.x,\n                    max: scale - topLeft.x\n                };\n                var yBounds = {\n                    min: -topLeft.y,\n                    max: scale - topLeft.y\n                };\n                if (this.options.wraparound) {\n                    xBounds.max = 20 * scale;\n                    xBounds.min = -xBounds.max;\n                }\n                if (this.options.pannable === false) {\n                    var viewSize = this.viewSize();\n                    xBounds.min = yBounds.min = 0;\n                    xBounds.max = viewSize.width;\n                    yBounds.max = viewSize.height;\n                }\n                x.makeVirtual();\n                y.makeVirtual();\n                x.virtualSize(xBounds.min, xBounds.max);\n                y.virtualSize(yBounds.min, yBounds.max);\n                this._virtualSize = {\n                    x: xBounds,\n                    y: yBounds\n                };\n            },\n            _renderLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [], scrollWrap = this.scrollWrap;\n                scrollWrap.empty();\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _layerSize: function (zoom) {\n                zoom = valueOrDefault(zoom, this.options.zoom);\n                return this.options.minSize * pow(2, zoom);\n            },\n            _click: function (e) {\n                if (!this._panComplete()) {\n                    return;\n                }\n                var cursor = this.eventOffset(e);\n                this.trigger('click', {\n                    originalEvent: e,\n                    location: this.viewToLocation(cursor)\n                });\n            },\n            _mousewheel: function (e) {\n                e.preventDefault();\n                var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\n                var options = this.options;\n                var fromZoom = this.zoom();\n                var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\n                if (options.zoomable !== false && toZoom !== fromZoom) {\n                    if (!this.trigger('zoomStart', { originalEvent: e })) {\n                        var cursor = this.eventOffset(e);\n                        var location = this.viewToLocation(cursor);\n                        var postZoom = this.locationToLayer(location, toZoom);\n                        var origin = postZoom.translate(-cursor.x, -cursor.y);\n                        this._zoomAround(origin, toZoom);\n                        this.trigger('zoomEnd', { originalEvent: e });\n                    }\n                }\n            }\n        });\n        dataviz.ui.plugin(Map);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.map', [\n        'kendo.data',\n        'kendo.userevents',\n        'kendo.tooltip',\n        'kendo.mobile.scroller',\n        'kendo.draganddrop',\n        'kendo.drawing',\n        'dataviz/map/location',\n        'dataviz/map/attribution',\n        'dataviz/map/navigator',\n        'dataviz/map/zoom',\n        'dataviz/map/crs',\n        'dataviz/map/layers/base',\n        'dataviz/map/layers/shape',\n        'dataviz/map/layers/bubble',\n        'dataviz/map/layers/tile',\n        'dataviz/map/layers/bing',\n        'dataviz/map/layers/marker',\n        'dataviz/map/main'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.map',\n        name: 'Map',\n        category: 'dataviz',\n        description: 'The Kendo DataViz Map displays spatial data',\n        depends: [\n            'data',\n            'userevents',\n            'tooltip',\n            'dataviz.core',\n            'drawing',\n            'mobile.scroller'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}