{"version":3,"sources":["kendo.grid.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals",1,10,100,2,20,200,3,30,300,4,40,400,5,50,500,6,60,600,7,70,700,8,80,800,9,90,900,1000,"values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","Math","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","$","measureText","style","measureBox","TextMetrics","current","measure","doc","document","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","baselineMarker","styleKey","cacheKey","cachedResult","width","height","baseline","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","e","geometryChange","suspend","resume","_observerField","field","mixins","groupCells","count","Array","stringifyAttributes","attributes","attr","STRING","cursor","context","add","css","reorder","selector","source","dest","before","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","on","CLICK","NS","replace","proxy","normalizeColumns","columns","encoded","hide","column","hidden","uid","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","columnParent","parents","columnParents","inserted","setColumnVisibility","visible","method","removeHiddenStyle","isCellVisible","display","visibleColumns","grep","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","moveCellsBetweenContainers","sources","target","leafs","destination","groups","rows","sourcesDepth","targetDepth","children","insertAfter","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","sourcePosition","columnVisiblePosition","ths","t","concat","cellCounts","findParentColumnWithChildren","rtl","locked","findReorderTarget","parent","parentColumns","flatColumnsInDomOrder","flatColumns","hiddenLeafColumnsCount","columnsWidth","cols","colWidth","indexOf","parseInt","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","createElement","firstChild","replaceChild","normalizeCols","hasDetails","colgroup","format","is","prepend","browser","msie","version","setTimeout","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","test","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollTop","scrollLeft","edge","setActive","focus","one","preventDefault","isInputElement","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","currentTable","support","touch","roleSelector","_setCurrent","navigatable","isIE8","_activeElement","isInEdit","groupRowBuilder","colspan","groupRowLockedContentBuilder","ui","DataSource","tbodyInnerHtml","activeElement","Widget","keys","prototype","isFunction","isEmptyObject","PROGRESS","ERROR","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","FIRSTNAVITEM","HEADERCELLS","EDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","FOCUSED","SELECTED","NORECORDSCLASS","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","NAVIGATE","HEIGHT","TABINDEX","FUNCTION","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","formatRegExp","templateHashRegExp","whitespaceRegExp","RegExp","COMMANDBUTTONTMPL","isRtl","isIE7","VirtualScrollable","that","fn","call","_refreshHandler","refresh","setDataSource","dataSource","wrap","unbind","bind","itemHeight","noop","prefetch","destroy","wrapper","verticalScrollbar","off","drag","scrollbar","overflow","_wheelScroll","kineticScrollNeeded","UserEvents","global","start","sender","capture","move","y","delta","_scroll","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","floor","lastItemIndex","_scrollTop","_scrolling","_fetch","_scrollingTimeout","clearTimeout","_page","take","itemIndex","rangeStart","pageSize","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","_fetching","_timeout","inRange","range","progress","repaintScrollbar","maxHeight","wrapperElement","addScrollBarHeight","scrollWidth","totalHeight","total","cancel","page","defaultCommands","imageClass","iconClass","save","edit","update","canceledit","excel","pdf","Grid","DataBoundWidget","events","_events","_element","_aria","_columns","_dataSource","_tbody","_pageable","_thead","_groupable","_toolbar","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollable","virtual","groupable","virtualScrollable","selectable","toolbar","filterable","sortable","allowCopy","pageable","editable","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","messages","cancelDelete","confirmation","confirmDelete","_angularItems","_destroyColumnAttachments","_navigatableTables","pager","kendoGroupable","clearArea","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyEditable","_progressHandler","_errorHandler","_removeLockedContainers","pane","minScreenResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","_isMobile","after","removeClass","_setEvents","_items","tr","dataItems","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_wrapper","_createResizeHandle","left","headerWrap","ieCorrection","webkitCorrection","firefoxCorrection","indicatorWidth","webkit","mozilla","outerWidth","top","outerHeight","show","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","clientX","winScrollLeft","_resizeHandleDocumentClick","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","hold","_resizable","columnStart","columnWidth","gridWidth","isLocked","col","isMobile","mobileOS","Resizable","handle","hint","header","contentTable","location","constrain","totalWidth","rtlMultiplier","currentWidth","_footerWidth","resizeend","newWidth","oldWidth","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_draggable","kendoDraggable","autoScroll","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","_reorderable","targetParentContainerIndex","targetIndex","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","_hasFilterRow","leafIndex","autoFitColumn","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","ceil","lockChanged","sourceColumns","destColumn","_updateColumnCellIndex","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unlockColumn","cellIndex","td","lockedColumnOffset","contains","_modelForContainer","_editMode","getByUid","mode","multiple","handler","_editContainer","end","closeCell","isLockedCell","has","blur","editCell","timer","editRow","stopPropagation","removeRow","_confirmation","model","_attachModelChange","kendoEditable","fields","editor","_relatedRow","_adjustLockedHorizontalScrollBar","clientWidth","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","close","_actionSheet","purge","navigate","_modelChangeHandler","_modelChange","isCancel","_displayCell","prependTo","ns","dataItem","storage","settings","Template","templateSettings","tmpl","_cellTmpl","_removeRow","cancelRow","sync","ObservableObject","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","tempCommand","unescape","title","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","_editAnimation","center","open","Editable","cancelChanges","_displayRow","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","select","_showMessage","actionSheet","view","ActionSheet","cancelTemplate","popup","_actionSheetPopupOptions","confirm","saveChanges","addRow","createAt","serverPaging","totalPages","insert","_firstEditableColumnIndex","_toolbarTmpl","saveAsExcel","saveAsPDF","attributeClassMatch","Error","match","_hasFooters","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","Groupable","groupContainer","draggableElements","allowDrag","_continuousItems","lockedItems","nonLockedItems","slice","multi","notString","Selectable","parseOptions","aria","useAllItems","relatedTarget","continuousItems","keyCode","SPACEBAR","clear","grid","stopImmediatePropagation","copySelection","areaClipBoard","getTSV","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","cellText","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","minWidth","minScreenWidth","hideColumn","showColumn","clearSelection","_updateCurrentAttr","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","andSelf","_rowVirtualIndex","_scrollTo","preventTrigger","_removeCurrent","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","bottomDistance","offsetLeft","abs","dataTables","headerTables","_openHeaderMenu","_tableFocus","_tableBlur","_tableKeyDown","altKey","DOWN","_setTabIndex","handled","requestInProgress","canHandle","isDefaultPrevented","UP","_moveUp","_moveDown","LEFT","RIGHT","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","shiftKey","collapseRow","_prevHorizontalCell","_horizontalContainer","expandRow","_nextHorizontalCell","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isInCell","_tabNext","_handleEditing","active","_toggleCurrent","focusable","originalIndex","nextAll","_currentDataIndex","lockedColumnsCount","up","step","right","back","switchRow","isEdited","isIE","oldIE","editContainer","opera","triggerHandler","_initMobile","Pane","documentElement","align","effect","_scrollable","hasVirtualScroll","_averageRowHeight","not","movable","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_requestStart","_error","_progress","relatedRow","selectableRow","childCells","originalCells","Pager","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menu","menuOptions","hasMultiColumnHeaders","initCallback","closeCallback","compare","forceUnique","checkSource","owner","kendoColumnMenu","_headerCells","_filterable","columnFilterable","filterInit","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","operator","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","initialColumns","type","_tmpl","alt","skipGroupCells","expr","_headerCellText","headerTemplate","stringify","columnLeafs","columnsLocked","_detailTmpl","_footerTmpl","g","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","detailRow","button","expanding","masterRow","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","filterCells","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","_prepareColumns","_updateCols","parentRow","childRow","totalColSpan","_updateHeaderCols","_updateLockedCols","_autoColumns","schema","toJSON","_rowsHtml","templates","_groupRowHtml","groupHeaderBuilder","skipColspan","groupHeaderTemplate","footerDefaults","_groupAggregatesDefaultObject","groupItems","showFooter","footerCount","relatedGroup","toHide","footersVisibility","groupsCount","pop","_firstDataItem","grouped","headerCellIndex","_setParentsVisibility","predicate","_resize","force","_isActiveInTable","isCurrentInHeader","action","_renderContent","_renderLockedContent","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF","resolve","allPages","startingPage","exportPage","_drawPDFShadow","avoidLinks","done","pageNum","args","pageNumber","fail","err","reject","Deferred","_initPDFProgress","Group","promise","deferred","pb","loading","clone","kendoProgressBar","chunkCount","always","plugin"],"mappings":"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","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                if (id in cache) {\n                    return cache[id];\n                }\n                return f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = {\n                    width: 0,\n                    height: 0,\n                    baseline: 0\n                };\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function (e) {\n                this.trigger('geometryChange', e);\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, math = Math, PROGRESS = 'progress', ERROR = 'error', DATA_CELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', EDIT = 'edit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', FOCUSED = 'k-state-focused', SELECTED = 'k-state-selected', NORECORDSCLASS = 'k-grid-norecords', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', NAVIGATE = 'navigate', CLICK = 'click', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '<a class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass# #=imageClass#\"></span>#=text#</a>', isRtl = false, browser = kendo.support.browser, isIE7 = browser.msie && browser.version == 7, isIE8 = browser.msie && browser.version == 8;\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                if (kendo.support.kineticScrollNeeded) {\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            wrapper.scrollLeft(wrapper.scrollLeft() - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    $(e.currentTarget).one('wheel' + NS, false);\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemIndex = math.max(firstItemIndex + math.floor(height / rowHeight), 0);\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart + 1;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = this._scrollTop || container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = (firstItemIndex - rangeStart) * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = firstItemIndex;\n                    that._scrollTop = itemHeight;\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource;\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (dataSource.inRange(skip, take)) {\n                    dataSource.range(skip, take);\n                } else {\n                    if (!delayLoading) {\n                        kendo.ui.progress(that.wrapper.parent(), true);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                kendo.ui.progress(that.wrapper.parent(), true);\n                            }\n                            dataSource.range(skip, take);\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function () {\n                var that = this, html = '', maxHeight = 250000, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = dataSource.total() * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                wrapperElement.scrollTop = that._scrollTop;\n            },\n            refresh: function () {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                kendo.ui.progress(that.wrapper.parent(), false);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar();\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (rangeStart && !that._fetching) {\n                    that._rangeStart = dataSource.skip();\n                    if (dataSource.page() === 1) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    result += attr + '=\"' + attributes[attr] + '\"';\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                imageClass: 'k-add',\n                className: 'k-grid-add',\n                iconClass: 'k-icon'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                imageClass: 'k-cancel',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon'\n            },\n            save: {\n                text: 'Save changes',\n                imageClass: 'k-update',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon'\n            },\n            destroy: {\n                text: 'Delete',\n                imageClass: 'k-delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon'\n            },\n            edit: {\n                text: 'Edit',\n                imageClass: 'k-edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon'\n            },\n            update: {\n                text: 'Update',\n                imageClass: 'k-update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon'\n            },\n            canceledit: {\n                text: 'Cancel',\n                imageClass: 'k-cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon'\n            },\n            excel: {\n                text: 'Export to Excel',\n                imageClass: 'k-i-excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                imageClass: 'k-i-pdf',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden);\n                }\n                var uid = kendo.guid();\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            var method = visible ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row).append(t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = source.locked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && target.locked == locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index += before ? -1 : 1;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('colSpan')) {\n                        offset += parentCell[0].colSpan;\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/((.*)?display)(.*)?:([^;]*)/i, '$1:none');\n                if (style === attr.style) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n            if (browser.msie && browser.version == 8) {\n                table.css('display', 'inline-table');\n                window.setTimeout(function () {\n                    table.css('display', '');\n                }, 1);\n            }\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns(that.options.columns);\n                that._dataSource();\n                that._tbody();\n                that._pageable();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                COLUMNMENUINIT,\n                EDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                NAVIGATE\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(0);\n                    } else {\n                        that.content.scrollLeft(0);\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                editable: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text\n                    },\n                    noRecords: NORECORDS\n                }\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                this._navigatableTables = null;\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                that.pager = null;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = dataSource.filter();\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return !tr.hasClass('k-grouping-row') && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                if (isIE7) {\n                    table.attr('cellspacing', 0);\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var groups = this._groups();\n                var left;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                if (!isRtl) {\n                    left = th[0].offsetWidth;\n                    var cells = leafDataCells(th.closest('thead')).filter(':visible');\n                    for (var idx = 0; idx < cells.length; idx++) {\n                        if (cells[idx] == th[0]) {\n                            break;\n                        }\n                        left += cells[idx].offsetWidth;\n                    }\n                    if (groups > 0) {\n                        left += container.find('.k-group-cell:first').outerWidth() * groups;\n                    }\n                    if (that._hasDetails()) {\n                        left += container.find('.k-hierarchy-cell:first').outerWidth();\n                    }\n                } else {\n                    left = th.position().left;\n                    if (scrollable) {\n                        var headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked'), ieCorrection = browser.msie ? headerWrap.scrollLeft() : 0, webkitCorrection = browser.webkit ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft() : 0, firefoxCorrection = browser.mozilla ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - (headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft()) : 0;\n                        left -= webkitCorrection - firefoxCorrection + ieCorrection;\n                    }\n                }\n                resizeHandle.css({\n                    top: th.position().top,\n                    left: left - indicatorWidth,\n                    height: th.outerHeight(),\n                    width: indicatorWidth * 3\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(th.data('index'));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, indicatorWidth = that.options.columnResizeHandleWidth, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'th', function (e) {\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    var clientX = e.clientX, winScrollLeft = $(window).scrollLeft(), position = th.offset().left + (!isRtl ? this.offsetWidth : 0);\n                    if (clientX + winScrollLeft > position - indicatorWidth && clientX + winScrollLeft < position + indicatorWidth) {\n                        that._createResizeHandle(th.closest('div'), th);\n                    } else if (that.resizeHandle) {\n                        that.resizeHandle.hide();\n                    } else {\n                        cursor(that.wrapper, '');\n                    }\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._hideResizeHandle();\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        th.addClass('k-column-active');\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: handle.data('th').outerHeight() + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            columnStart = e.x.location;\n                            columnWidth = th.outerWidth();\n                            gridWidth = isLocked ? contentTable.children('tbody').outerWidth() : that.tbody.outerWidth();\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                            } else if (currentWidth > 10) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = th.outerWidth(), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                            }\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            return $('<div class=\"k-header k-drag-clue\" />').css({\n                                width: target.width(),\n                                paddingLeft: target.css('paddingLeft'),\n                                paddingRight: target.css('paddingRight'),\n                                lineHeight: target.height() + 'px',\n                                paddingTop: target.css('paddingTop'),\n                                paddingBottom: target.css('paddingBottom')\n                            }).html(target.attr(kendo.attr('title')) || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-denied\" />');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    var targetParentContainerIndex = function (columns, sourceIndex, targetIndex) {\n                        var column = columns[sourceIndex];\n                        var target = columns[targetIndex];\n                        var parent = columnParent(column, that.columns);\n                        columns = parent ? parent.columns : that.columns;\n                        return inArray(target, columns);\n                    };\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                var ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups());\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.thead, that.lockedHeader.find('thead'), this._groups());\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before);\n                        if (target) {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(source, visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    if (isLocked) {\n                        colDest = that.lockedTable.find('colgroup');\n                        headerCol = that.lockedHeader.find('colgroup');\n                        footerCol = $(that.lockedFooter).find('>table>colgroup');\n                    } else {\n                        colDest = that.tbody.prev();\n                        headerCol = that.thead.prev();\n                        footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, before, visibleSources.length);\n                if (that.options.scrollable) {\n                    reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, before, visibleSources.length);\n                }\n                if (footer && footer.length) {\n                    reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, before, visibleSources.length);\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)';\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = th.outerWidth();\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(th.outerWidth(), contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index).outerWidth(), footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index).outerWidth())) + 1;\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length;\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _editable: function () {\n                var that = this, selectable = that.selectable && that.selectable.options.multiple, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            }\n                        }\n                    };\n                if (editable) {\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                var td = $(this), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                    return;\n                                }\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        if (selectable) {\n                                            $(activeElement()).blur();\n                                        }\n                                        that.closeCell();\n                                        that.editCell(td);\n                                    }\n                                } else {\n                                    that.editCell(td);\n                                }\n                            }).on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function () {\n                                that.timer = setTimeout(handler, 1);\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that.cellIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field) {\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content.height() - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._actionSheet) {\n                    that._actionSheet.destroy();\n                    that._actionSheet = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, id, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                id = cell.closest('tr').attr(kendo.attr('uid'));\n                model = that.dataSource.getByUid(id);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that.cellIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (cell.hasClass('k-dirty-cell')) {\n                    $('<span class=\"k-dirty\"/>').prependTo(cell);\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof kendo.data.ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[cell.index()];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this, html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form' + (that._isMobile ? ' k-mobile-list' : '') + '\"><div class=\"k-edit-form-container\">', column, command, fields = [], idx, length, tmpl, updateText, cancelText, tempCommand, columns = leafColumns(that.columns), attr, editable = that.options.editable, template = editable.template, options = isPlainObject(editable) ? editable.window : {}, settings = extend({}, kendo.Template, that.options.templateSettings);\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (!column.command) {\n                            html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>';\n                            if ((!model.editable || model.editable(column.field)) && column.field) {\n                                fields.push({\n                                    field: column.field,\n                                    format: column.format,\n                                    editor: column.editor,\n                                    values: column.values\n                                });\n                                html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                            } else {\n                                var state = {\n                                    storage: {},\n                                    count: 0\n                                };\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                if (state.count > 0) {\n                                    tmpl = proxy(tmpl, state.storage);\n                                }\n                                html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (command.text && isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</div></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'use-native-scrolling=\"true\" data-' + kendo.ns + 'init-widgets=\"false\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + (options.title || 'Edit') + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    }) + '</div>' + html + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                if (that._isMobile) {\n                    container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                        $(this).next().children('input').click();\n                    });\n                }\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                if (!this._isMobile) {\n                    this._editContainer.data('kendoWindow').center().open();\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this, column, cell, command, fields = [];\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that.cellIndex(cell)];\n                    if (!column.command && column.field && (!model.editable || model.editable(column.field))) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, attr;\n                            if (isPlainObject(command)) {\n                                if (command.text && isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that.editable = new kendo.ui.Editable(row.addClass('k-grid-edit-row'), {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container), editable = that.editable;\n                if (container && editable && editable.end() && !that.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    that.dataSource.sync();\n                }\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    row.replaceWith(newRow);\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && that.options.selectable) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-plus').addClass('k-minus');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var template = kendo.template('<ul>' + '<li class=\"km-actionsheet-title\">#:title#</li>' + '<li><a href=\"\\\\#\" class=\"k-button k-grid-delete\">#:confirmDelete#</a></li>' + '</ul>');\n                var html = $(template(messages)).appendTo(that.view.element);\n                var actionSheet = that._actionSheet = new kendo.mobile.ui.ActionSheet(html, {\n                    cancel: messages.cancelDelete,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var item = $(e.currentTarget).parent();\n                        if (!item.hasClass('km-actionsheet-cancel')) {\n                            that._removeRow(row);\n                        }\n                    },\n                    popup: that._actionSheetPopupOptions\n                });\n                actionSheet.open(row);\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                this.dataSource.cancelChanges();\n            },\n            saveChanges: function () {\n                var that = this;\n                if ((that.editable && that.editable.end() || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAt.toLowerCase() == 'bottom') {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    var model = dataSource.insert(index, {}), id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-header k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '';\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        html += that._createButton(commands[idx]);\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        imageClass: '',\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit' && isPlainObject(command.text)) {\n                        command = extend(true, {}, command);\n                        command.text = command.text.edit;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), group = element.closest('tr');\n                        if (element.hasClass('k-i-collapse')) {\n                            that.collapseGroup(group);\n                        } else {\n                            that.expandGroup(group);\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that.groupable.destroy();\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable\n                    }));\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        }\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            current.removeClass(SELECTED);\n                                            that.trigger(CHANGE);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                that.selectable.value(current);\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            getTSV: function () {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                that.selectable.clear();\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (!selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            return that._relatedRow(this);\n                        }));\n                    }\n                    selectable.value(items);\n                    return;\n                }\n                return selectable.value();\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(FOCUSED).removeAttr('aria-describedby').closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._cellId).addClass(FOCUSED).closest('table').attr('aria-activedescendant', this._cellId);\n                if (!next.closest('tr').hasClass('k-grouping-row') && !next.hasClass('k-header')) {\n                    var column = this.columns[this.cellIndex(next)];\n                    if (column) {\n                        headerId = column.headerAttributes.id;\n                    }\n                    next.attr('aria-describedby', headerId + ' ' + this._cellId);\n                } else {\n                    next.attr('aria-describedby', this._cellId);\n                }\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').andSelf().last()[0];\n                if (isInContent) {\n                    if (scrollable.virtual) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        this._updateCurrentAttr(current, next);\n                        this._scrollCurrent();\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                if (kendo.support.touch) {\n                    return;\n                }\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    this._setCurrent(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                current = current ? current : $(this.lockedTable).add(this.table).find(FIRSTNAVITEM);\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        container = this._horizontalContainer(container);\n                        next = this._prevHorizontalCell(container, current, index);\n                        if (next[0] !== current[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        container = this._horizontalContainer(container, true);\n                        next = this._nextHorizontalCell(container, current, index);\n                        if (next[0] !== current[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current) {\n                var container = current.parent().parent();\n                var next = this._prevVerticalCell(container, current);\n                if (!next[0]) {\n                    container = this._verticalContainer(container, true);\n                    next = this._prevVerticalCell(container, current);\n                    if (next[0]) {\n                        focusTable(container.parent(), true);\n                    }\n                }\n                this._setCurrent(next);\n                return true;\n            },\n            _moveDown: function (current) {\n                var container = current.parent().parent();\n                var next = this._nextVerticalCell(container, current);\n                if (!next[0]) {\n                    container = this._verticalContainer(container);\n                    next = this._nextVerticalCell(container, current);\n                    if (next[0]) {\n                        focusTable(container.parent(), true);\n                    }\n                }\n                this._setCurrent(next);\n                return true;\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th')) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && row.is('.k-master-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable;\n                var container = target.closest('[role=gridcell]');\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    current.find('.k-link').click();\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children().first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = row.children(DATA_CELL).index(current);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).eq(index);\n                }\n                if (rowIndex == -1) {\n                    row = container.find('.k-filter-row');\n                    if (!row[0]) {\n                        return leafDataCells(container).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? 'thead' : 'tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, oldIE = isIE && browser.version < 9, editContainer = that._editContainer, focusable, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        if (browser.opera || oldIE) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                if (oldIE) {\n                    document.body.focus();\n                }\n                focusTable(table, true);\n                if (!isEdited && !next || next) {\n                    if (mode == 'incell') {\n                        that.editCell(that.current());\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = kendo.mobile.ui.Pane.wrap(html);\n                    this.view = this.pane.view();\n                    this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                        align: 'bottom center',\n                        position: 'bottom center',\n                        effect: 'slideIn:up'\n                    };\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    }\n                    this._editAnimation = 'slide';\n                    this.view.bind('show', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual && !that.virtualScrollable, scrollbar = !kendo.support.kineticScrollNeeded || hasVirtualScroll ? kendo.support.scrollbar() : 0;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    if (isIE7) {\n                        table.attr('cellspacing', 0);\n                    }\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    if (that.content.is('.k-virtual-scrollable-wrap, .km-scroll-container')) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (hasVirtualScroll) {\n                        that.virtualScrollable = new VirtualScrollable(that.content, {\n                            dataSource: that.dataSource,\n                            itemHeight: function () {\n                                return that._averageRowHeight();\n                            }\n                        });\n                    }\n                    that.scrollables = header.children('.k-grid-header-wrap').add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            that.scrollables.scrollLeft(this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                    } else {\n                        that.scrollables.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                that.scrollables.scrollLeft(-e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        $(that.noRecordsTemplate({})).insertAfter(that.table);\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (scrollLeft) {\n                                that.content.scrollLeft(scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += this.lockedHeader.find('.k-group-cell:first').outerWidth() * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 2 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height = that.wrapper.innerHeight(), header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    height -= header.outerHeight();\n                    if (that.pager) {\n                        height -= that.pager.element.outerHeight();\n                    }\n                    if (options.groupable) {\n                        height -= that.wrapper.children('.k-grouping-header').outerHeight();\n                    }\n                    if (options.toolbar) {\n                        height -= that.wrapper.children('.k-grid-toolbar').outerHeight();\n                    }\n                    if (that.footerTemplate) {\n                        height -= that.wrapper.children('.k-grid-footer').outerHeight();\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = that.table.outerHeight() / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = that.table.outerHeight() / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that.cellIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                                $('<span class=\"k-dirty\"/>').prependTo(cell);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if (selectable && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                        if (column.field === e.field) {\n                            $('<span class=\"k-dirty\"/>').prependTo(cell);\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, wrapper, pageable = that.options.pageable;\n                if (pageable) {\n                    wrapper = that.wrapper.children('div.k-grid-pager');\n                    if (!wrapper.length) {\n                        wrapper = $('<div class=\"k-pager-wrap k-grid-pager\"/>').appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        that.pager = new kendo.ui.Pager(wrapper, extend({}, pageable, { dataSource: that.dataSource }));\n                    }\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = that.content.scrollLeft();\n                        var hasVirtualScroll = options.scrollable !== true && options.scrollable.virtual && !that.virtualScrollable;\n                        if (hasVirtualScroll) {\n                            offset = that.wrapper.find('.k-virtual-scrollable-wrap').scrollLeft();\n                        }\n                        footerWrap.scrollLeft(offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                pane: that.pane,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                lockedColumns: !hasMultiColumnHeaders && column.lockable !== false && lockedColumns(columns).length > 0\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return this.thead.find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                pane: that.pane\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row');\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable;\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)'\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                that.columns = normalizeColumns(columns, encoded);\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups();\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    if (hasDetails) {\n                        className.push('k-master-row');\n                    }\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\"><a class=\"k-icon k-plus\" href=\"\\\\#\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes) + ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            html += that._createButton(column.command[idx]);\n                        }\n                        return html.replace(templateHashRegExp, '\\\\#');\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), columns = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs;\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus', function (e) {\n                    var button = $(this), expanding = button.hasClass('k-plus'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails();\n                    button.toggleClass('k-plus', !expanding).toggleClass('k-minus', expanding);\n                    detailRow = masterRow.next();\n                    if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                        data = that.dataItem(masterRow);\n                        detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                        that.angular('compile', function () {\n                            return {\n                                elements: detailRow.get(),\n                                data: [{ dataItem: data }]\n                            };\n                        });\n                        that.trigger(DETAILINIT, {\n                            masterRow: masterRow,\n                            detailRow: detailRow,\n                            data: data,\n                            detailCell: detailRow.find('.k-detail-cell')\n                        });\n                    }\n                    that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                        masterRow: masterRow,\n                        detailRow: detailRow\n                    });\n                    detailRow.toggle(expanding);\n                    if (that._current) {\n                        that._current.attr('aria-expanded', expanding);\n                    }\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr) {\n                $(tr).find('> td .k-plus, > td .k-i-expand').click();\n            },\n            collapseRow: function (tr) {\n                $(tr).find('> td .k-minus, > td .k-i-collapse').click();\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, leafs = leafColumns(that.columns), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (!th.command) {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            html += kendo.attr('title') + '=\"' + th.title.replace('\"', '&quot;').replace(/'/g, '\\'') + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    } else {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup /><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\" />' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th').get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find('th').get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._updateCols();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                }\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var rows = $();\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    if (tr.length && columns[0] && !columns[0].columns) {\n                        rows = rows.add(tr);\n                    }\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        if (tr.length && columns[0] && !columns[0].columns) {\n                            rows = rows.add(tr);\n                        }\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.options.scrollable.virtual) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    e.preventDefault();\n                    $(e.currentTarget).one('wheel' + NS, false);\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (idx % 2) {\n                        html += altRowTemplate(data[idx]);\n                    } else {\n                        html += rowTemplate(data[idx]);\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, template = column.groupHeaderTemplate, text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), footerDefaults = that._groupAggregatesDefaultObject || {}, aggregates = extend({}, footerDefaults, group.aggregates), data = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        aggregates: aggregates\n                    }, group.aggregates[group.field]), groupFooterTemplate = templates.groupFooterTemplate, groupItems = group.items;\n                if (template) {\n                    text = typeof template === FUNCTION ? template(data) : kendo.template(template)(data);\n                }\n                html += groupHeaderBuilder(colspan, level, text);\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan);\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n                if (groupFooterTemplate) {\n                    html += groupFooterTemplate(aggregates);\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                group = $(group);\n                var level, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-icon').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[0]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-icon').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-minus')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            tr.toggle(footersVisibility.pop());\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                    }\n                    if (browser.msie && browser.version == 8) {\n                        tables.css('display', 'inline-table');\n                        setTimeout(function () {\n                            tables.css('display', 'table');\n                        }, 1);\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var columns = this.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.showColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, true);\n                }\n                if (that.lockedTable && lockedColumnsCount > columnIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                if (this.lockedContent) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                kendo.ui.progress(element, toggle);\n            },\n            _resize: function (size, force) {\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, offsetLeft = that.content && that.content.scrollLeft(), colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length;\n                if (e && e.action === 'itemchange' && that.editable) {\n                    return;\n                }\n                e = e || {};\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                that._angularItems('cleanup');\n                if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                    isCurrentInHeader = current.is('th');\n                    currentIndex = Math.max(that.cellIndex(current), 0);\n                }\n                that._destroyEditable();\n                that._progress(false);\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    that._updateHeader(groups);\n                    that._group = groups > 0;\n                }\n                that._renderContent(data, colspan, groups);\n                that._renderLockedContent(data, colspan, groups);\n                that._footer();\n                that._renderNoRecordsContent();\n                that._setContentHeight();\n                that._setContentWidth(offsetLeft);\n                if (that.lockedTable) {\n                    if (that.options.scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                that._restoreCurrent(currentIndex, isCurrentInHeader);\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    if (this._rowVirtualIndex) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    this._setCurrent(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup') {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate\n                    };\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    this._syncLockedContentHeight();\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF = function (progress) {\n                var result = new $.Deferred();\n                var grid = this;\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'/></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            var msie = browser.msie || browser.edge;\n            if (direct === true) {\n                table = $(table);\n                var scrollTop, scrollLeft;\n                scrollTop = table.parent().scrollTop();\n                scrollLeft = table.parent().scrollLeft();\n                if (msie) {\n                    try {\n                        table[0].setActive();\n                    } catch (e) {\n                        table[0].focus();\n                    }\n                } else {\n                    table[0].focus();\n                }\n                table.parent().scrollTop(scrollTop).scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), currentTable = currentTarget.closest('table')[0];\n            if (kendo.support.touch) {\n                return;\n            }\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if ($(e.target).is('a.k-i-collapse, a.k-i-expand')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if (!(isIE8 && $(kendo._activeElement()).hasClass('k-widget'))) {\n                        if (!isInputElement(kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    }\n                });\n            }\n            if (isHeader) {\n                e.preventDefault();\n            }\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupRowBuilder(colspan, level, text) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}